"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_copilot-chat_entry_ts-packages_use-debounce_use-debounce_ts"],{11418:(e,t,r)=>{let n;r.d(t,{H:()=>R});var a=r(35750),o=r(18150),i=r(85242),s=r(88243),l=r(16213),c=r(10204),d=new WeakMap,h=new WeakSet;let AliveSession=class AliveSession extends c.ib{constructor(e,t,r,n,a){super(e,()=>(0,s._)(this,h,u).call(this),r,n,void 0,a),(0,l._)(this,h),(0,o._)(this,d,{writable:!0,value:void 0}),(0,i._)(this,d,t)}};function u(){return m((0,a._)(this,d))}async function m(e){let t=await p(e);return t&&t.url&&t.token?f(t.url,t.token):null}async function p(e){let t=await fetch(e,{headers:{Accept:"application/json"}});if(t.ok)return t.json();if(404===t.status)return null;throw Error("fetch error")}async function f(e,t){let r=await fetch(e,{method:"POST",mode:"same-origin",headers:{"Scoped-CSRF-Token":t}});if(r.ok)return r.text();throw Error("fetch error")}var g=r(70170),x=r(34095),b=r(82075),w=r(23683),y=r(69599);function v(e,{channel:t,type:r,data:n}){for(let a of e)a.dispatchEvent(new CustomEvent(`socket:${r}`,{bubbles:!1,cancelable:!1,detail:{name:t,data:n}}))}var j=new WeakMap,_=new WeakMap,S=new WeakMap,C=new WeakMap,O=new WeakMap,N=new WeakSet;let I=class AliveSessionProxy{subscribe(e){let t=(0,a._)(this,_).add(...e);t.length&&(0,a._)(this,j).port.postMessage({subscribe:t});let r=new Set(t.map(e=>e.name)),n=e.reduce((e,t)=>{let n=t.topic.name;return(0,c.JR)(n)&&!r.has(n)&&e.add(n),e},new Set);n.size&&(0,a._)(this,j).port.postMessage({requestPresence:Array.from(n)})}unsubscribeAll(...e){let t=(0,a._)(this,_).drain(...e);t.length&&(0,a._)(this,j).port.postMessage({unsubscribe:t});let r=(0,a._)(this,S).removeSubscribers(e);this.sendPresenceMetadataUpdate(r)}updatePresenceMetadata(e){let t=new Set;for(let r of e)(0,a._)(this,S).setMetadata(r),t.add(r.channelName);this.sendPresenceMetadataUpdate(t)}sendPresenceMetadataUpdate(e){if(!e.size)return;let t=[];for(let r of e)t.push({channelName:r,metadata:(0,a._)(this,S).getChannelMetadata(r)});(0,a._)(this,j).port.postMessage({updatePresenceMetadata:t})}online(){(0,a._)(this,j).port.postMessage({online:!0})}offline(){(0,a._)(this,j).port.postMessage({online:!1})}hangup(){(0,a._)(this,j).port.postMessage({hangup:!0})}constructor(e,t,r,n,d,h){(0,l._)(this,N),(0,o._)(this,j,{writable:!0,value:void 0}),(0,o._)(this,_,{writable:!0,value:new c.m0}),(0,o._)(this,S,{writable:!0,value:new c.VH}),(0,o._)(this,C,{writable:!0,value:void 0}),(0,o._)(this,O,{writable:!0,value:new Map}),(0,i._)(this,C,d),(0,i._)(this,j,new SharedWorker(`${e}?module=true`,{name:`github-socket-worker-v3-${n}`,type:"module"})),(0,a._)(this,j).port.onmessage=({data:e})=>(0,s._)(this,N,D).call(this,e),(0,a._)(this,j).port.postMessage({connect:{url:t,refreshUrl:r,options:h}})}};function D(e){let{channel:t}=e;if("presence"===e.type){let r=(0,a._)(this,O).get(t);r||(r=(0,g.s)((e,r)=>{(0,a._)(this,C).call(this,e,r),(0,a._)(this,O).delete(t)},100),(0,a._)(this,O).set(t,r)),r((0,a._)(this,_).subscribers(t),e);return}(0,a._)(this,C).call(this,(0,a._)(this,_).subscribers(t),e)}async function P(){let e=function(){let e=document.head.querySelector("link[rel=shared-web-socket-src]")?.getAttribute("href");return e&&e.startsWith("/")?e:null}();if(!e)return;let t=document.head.querySelector("link[rel=shared-web-socket]")?.href??null;if(!t)return;let r=document.head.querySelector("link[rel=shared-web-socket]")?.getAttribute("data-refresh-url")??null;if(!r)return;let n=document.head.querySelector("link[rel=shared-web-socket]")?.getAttribute("data-session-id")??null;if(!n)return;let a=(()=>{let a=(0,y.G7)("alive_legacy_retries")?{socketPolicy:{timeout:4e3,attempts:7}}:{};if(!(0,w.nr)()&&"SharedWorker"in window&&"true"!==(0,b.A)("localStorage").getItem("bypassSharedWorker"))try{return new I(e,t,r,n,v,a)}catch{}return new AliveSession(t,r,!1,v,a)})();return window.addEventListener("online",()=>a.online()),window.addEventListener("offline",()=>a.offline()),window.addEventListener("pagehide",()=>{"hangup"in a&&a.hangup()}),a}async function k(){return await x.G,P()}function R(){return n||(n=k())}},73056:(e,t,r)=>{r.d(t,{$:()=>i});var n=r(10204),a=r(33303);let o=new WeakMap;function i(e,t,r){let i;if(!e)throw Error("Not connected to alive");if(!t)throw Error("No channel name");let s=n.KK.parse(t);if(!s)throw Error("Invalid channel name");let l={subscriber:{dispatchEvent:e=>{e instanceof CustomEvent&&r(e.detail.data)}},topic:s},c=((i=o.get(e))||(i={subscribe:(0,a.rK)(t=>e.subscribe(t.flat())),unsubscribeAll:(0,a.rK)(t=>e.unsubscribeAll(...t))},o.set(e,i)),i);return c.subscribe([l]),{unsubscribe:()=>c.unsubscribeAll(l.subscriber)}}},18308:(e,t,r)=>{var n=r(7123),a=r(74848),o=r(21728),i=r(97519),s=r(94195),l=r(2635),c=r(33592),d=r(99505),h=r(97286),u=r(77430),m=r(25407),p=r(68911),f=r(71315),g=r(45385),x=r(91547),b=r(38621),w=r(89169),y=r(87330),v=r(21998),j=r(96540),_=r(37178),S=r(73017);function C(e){let t,r,n,i,s=(0,o.c)(11),{lineNumbers:l,lines:c,trimLineBeginnings:d}=e;if(s[0]===Symbol.for("react.memo_cache_sentinel")?(t={display:"flex",flexDirection:"row",overflowX:"auto",pb:3},r={fontSize:"12px",fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace",overflowX:"auto"},s[0]=t,s[1]=r):(t=s[0],r=s[1]),s[2]!==l||s[3]!==c||s[4]!==d){let e;s[6]!==c||s[7]!==d?(e=(e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e},e),(0,a.jsx)("td",{style:{whiteSpace:"pre",paddingLeft:"16px"},children:(0,a.jsx)(S.$6,{html:d?(c[t]??"").trimStart():c[t]||`
`},`line-${t}`)})]},`line-row-${e}`),s[6]=c,s[7]=d,s[8]=e):e=s[8],n=l.map(e),s[2]=l,s[3]=c,s[4]=d,s[5]=n}else n=s[5];return s[9]!==n?(i=(0,a.jsx)(v.az,{sx:t,children:(0,a.jsx)("table",{style:r,children:n})}),s[9]=n,s[10]=i):i=s[10],i}try{C.displayName||(C.displayName="SimpleCodeListing")}catch{}function O(e){let t,r,n,i,s,l,c,d,h,f,y,S,O,k,R,E,L,A,T,V,B,$,F,z,M,H,U,W,G,q,J=(0,o.c)(88),{reference:Q,details:K,detailsLoading:X,detailsError:Y,onDismiss:Z}=e,{contributors:ee}=(0,g.u)(Q.repoOwner,Q.repoName,Q.commitOID,Q.path),[et]=(0,x.E)(Q.repoOwner,Q.repoName,Q.commitOID,Q.path),{lines:er,lineNumbers:en,expandUp:ea,expandDown:eo}=function(e,t,r){let n,a,i,s,l,c,d,h,u=(0,o.c)(42),[m,p]=(0,j.useState)(e?.start??-1),[f,g]=(0,j.useState)(e?.end??-1);u[0]!==r||u[1]!==t||u[2]!==e?(n=r&&e&&t?r.slice(e.start-t.start,e.end-t.start+1):[],u[0]=r,u[1]=t,u[2]=e,u[3]=n):n=u[3];let[x,b]=(0,j.useState)(n);u[4]!==r||u[5]!==f||u[6]!==t||u[7]!==e||u[8]!==m?(a=(n,a)=>{let o=void 0===n?m:n,i=void 0===a?f:a;r&&e&&t&&!(o<0)&&!(i<0)&&b(r.slice(o-t.start,i-t.start+1))},u[4]=r,u[5]=f,u[6]=t,u[7]=e,u[8]=m,u[9]=a):a=u[9];let w=a;u[10]!==r||u[11]!==f||u[12]!==e||u[13]!==m||u[14]!==w?(i=()=>{if(e&&r&&(-1===m||-1===f)){let t=e.start,r=e.end;p(t),g(r),w(t,r)}},u[10]=r,u[11]=f,u[12]=e,u[13]=m,u[14]=w,u[15]=i):i=u[15],u[16]!==r||u[17]!==f||u[18]!==t||u[19]!==e||u[20]!==m||u[21]!==w?(s=[r,e,t,w,m,f],u[16]=r,u[17]=f,u[18]=t,u[19]=e,u[20]=m,u[21]=w,u[22]=s):s=u[22],(0,j.useEffect)(i,s),u[23]!==t?.start||u[24]!==m||u[25]!==w?(l=()=>{let e=Math.max(m-P,t?.start??-1);p(e),w(e)},u[23]=t?.start,u[24]=m,u[25]=w,u[26]=l):l=u[26],t?.start;let y=l;u[27]!==f||u[28]!==t?.end||u[29]!==m||u[30]!==w?(c=()=>{let e=Math.min(f+P,t?.end??-1);g(e),w(m,e)},u[27]=f,u[28]=t?.end,u[29]=m,u[30]=w,u[31]=c):c=u[31],t?.end;let v=c,_=-1!==m&&m!==t?.start,S=-1!==f&&f!==t?.end;if(u[32]!==x||u[33]!==m){let e;u[35]!==m?(e=(e,t)=>m+t,u[35]=m,u[36]=e):e=u[36],d=x.map(e),u[32]=x,u[33]=m,u[34]=d}else d=u[34];let C=_?y:null,O=S?v:null;return u[37]!==x||u[38]!==d||u[39]!==C||u[40]!==O?(h={lines:x,lineNumbers:d,expandUp:C,expandDown:O},u[37]=x,u[38]=d,u[39]=C,u[40]=O,u[41]=h):h=u[41],h}(K?.range,K?.expandedRange,K?.highlightedContents),ei=K?.headerInfo,es=K?.repoIsOrgOwned,el=`${Q.repoOwner}.png`;return J[0]===Symbol.for("react.memo_cache_sentinel")?(t={mr:2,flexShrink:0},J[0]=t):t=J[0],J[1]!==es||J[2]!==el?(r=(0,a.jsx)(u.r,{square:es,src:el,sx:t}),J[1]=es,J[2]=el,J[3]=r):r=J[3],J[4]===Symbol.for("react.memo_cache_sentinel")?(n={fontWeight:600,whiteSpace:"nowrap"},J[4]=n):n=J[4],J[5]!==Q.repoName||J[6]!==Q.repoOwner?(i=(0,a.jsxs)(v.EY,{sx:n,children:[Q.repoOwner,"/",Q.repoName]}),J[5]=Q.repoName,J[6]=Q.repoOwner,J[7]=i):i=J[7],J[8]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)(v.EY,{sx:{marginX:1},children:"\xb7"}),J[8]=s):s=J[8],J[9]===Symbol.for("react.memo_cache_sentinel")?(l={fontWeight:400},J[9]=l):l=J[9],J[10]!==Q.ref?(c=(0,p.gE)(Q.ref),J[10]=Q.ref,J[11]=c):c=J[11],J[12]!==c?(d=(0,a.jsx)(v.EY,{sx:l,children:c}),J[12]=c,J[13]=d):d=J[13],J[14]===Symbol.for("react.memo_cache_sentinel")?(h=(0,a.jsx)(v.EY,{sx:{marginX:1},children:"\xb7"}),J[14]=h):h=J[14],J[15]===Symbol.for("react.memo_cache_sentinel")?(f={fontWeight:400,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},J[15]=f):f=J[15],J[16]!==Q.path?(y=(0,a.jsx)(v.EY,{sx:f,children:Q.path}),J[16]=Q.path,J[17]=y):y=J[17],J[18]!==Q.range||J[19]!==Q.type?(S="snippet"===Q.type&&(0,a.jsxs)("span",{children:[":",Q.range.start,"-",Q.range.end]}),J[18]=Q.range,J[19]=Q.type,J[20]=S):S=J[20],J[21]!==Z||J[22]!==d||J[23]!==y||J[24]!==S||J[25]!==r||J[26]!==i?(O=(0,a.jsxs)(_.O.Header,{onDismiss:Z,children:[r,i,s,d,h,y,S]}),J[21]=Z,J[22]=d,J[23]=y,J[24]=S,J[25]=r,J[26]=i,J[27]=O):O=J[27],J[28]===Symbol.for("react.memo_cache_sentinel")?(k={border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px 6px 0 0",marginX:3},J[28]=k):k=J[28],J[29]!==ei?(R=ei&&(0,a.jsx)(I,{headerInfo:ei}),J[29]=ei,J[30]=R):R=J[30],J[31]!==ei?(E=ei&&(0,a.jsx)(D,{headerInfo:ei}),J[31]=ei,J[32]=E):E=J[32],J[33]!==R||J[34]!==E?(L=(0,a.jsxs)(N,{children:[R,E]}),J[33]=R,J[34]=E,J[35]=L):L=J[35],J[36]!==ea?(A=ea&&(0,a.jsx)(_.O.ContentExpander,{direction:"above",onExpand:ea}),J[36]=ea,J[37]=A):A=J[37],J[38]!==en||J[39]!==er?(T=(0,a.jsx)(_.O.Content,{children:(0,a.jsx)(C,{lines:er,lineNumbers:en})}),J[38]=en,J[39]=er,J[40]=T):T=J[40],J[41]!==eo?(V=eo&&(0,a.jsx)(_.O.ContentExpander,{direction:"below",onExpand:eo}),J[41]=eo,J[42]=V):V=J[42],J[43]!==L||J[44]!==A||J[45]!==T||J[46]!==V?(B=(0,a.jsxs)(v.az,{sx:k,children:[L,A,T,V]}),J[43]=L,J[44]=A,J[45]=T,J[46]=V,J[47]=B):B=J[47],J[48]!==Q.repoName||J[49]!==Q.repoOwner?($=(0,m.Do2)({name:Q.repoName,ownerLogin:Q.repoOwner}),J[48]=Q.repoName,J[49]=Q.repoOwner,J[50]=$):$=J[50],J[51]!==Q.repoName||J[52]!==Q.repoOwner||J[53]!==$?(F=(0,a.jsxs)(_.O.DetailLink,{href:$,icon:b.RepoIcon,children:[Q.repoOwner,"/",Q.repoName]}),J[51]=Q.repoName,J[52]=Q.repoOwner,J[53]=$,J[54]=F):F=J[54],J[55]!==ee||J[56]!==K?.range||J[57]!==Q.commitOID||J[58]!==Q.path||J[59]!==Q.repoName||J[60]!==Q.repoOwner?(z=ee&&(0,a.jsxs)(_.O.DetailLink,{icon:b.PeopleIcon,href:(0,m.buO)({owner:Q.repoOwner,repo:Q.repoName,commitish:Q.commitOID,filePath:Q.path,lineNumber:K?.range.start}),children:[ee.totalCount," ",1===ee.totalCount?"contributor":"contributors"]}),J[55]=ee,J[56]=K?.range,J[57]=Q.commitOID,J[58]=Q.path,J[59]=Q.repoName,J[60]=Q.repoOwner,J[61]=z):z=J[61],J[62]!==et||J[63]!==Q.repoName||J[64]!==Q.repoOwner?(M=et&&(0,a.jsxs)(_.O.DetailLink,{icon:b.HistoryIcon,href:(0,m.$Qz)({owner:Q.repoOwner,repo:Q.repoName,commitish:et?.oid}),children:[et?.author?.displayName," updated ",(0,a.jsx)(w.A,{datetime:et?.date})]}),J[62]=et,J[63]=Q.repoName,J[64]=Q.repoOwner,J[65]=M):M=J[65],J[66]!==Q.range||J[67]!==Q.type?(H="snippet"===Q.type?(0,a.jsxs)(a.Fragment,{children:["#",Q.range.start,"-",Q.range.end]}):null,J[66]=Q.range,J[67]=Q.type,J[68]=H):H=J[68],J[69]!==Q.path||J[70]!==Q.repoName||J[71]!==Q.repoOwner||J[72]!==Q.url||J[73]!==H?(U=(0,a.jsxs)(_.O.DetailLink,{icon:b.LinkExternalIcon,href:Q.url,children:[Q.repoOwner,"/",Q.repoName,"/",Q.path,H]}),J[69]=Q.path,J[70]=Q.repoName,J[71]=Q.repoOwner,J[72]=Q.url,J[73]=H,J[74]=U):U=J[74],J[75]!==F||J[76]!==z||J[77]!==M||J[78]!==U?(W=(0,a.jsxs)(_.O.Details,{children:[F,z,M,U]}),J[75]=F,J[76]=z,J[77]=M,J[78]=U,J[79]=W):W=J[79],J[80]!==Y||J[81]!==X||J[82]!==B||J[83]!==W?(G=(0,a.jsxs)(_.O.Body,{detailsError:Y,detailsLoading:X,children:[B,W]}),J[80]=Y,J[81]=X,J[82]=B,J[83]=W,J[84]=G):G=J[84],J[85]!==O||J[86]!==G?(q=(0,a.jsxs)(_.O.Frame,{children:[O,G]}),J[85]=O,J[86]=G,J[87]=q):q=J[87],q}function N(e){let t,r,n=(0,o.c)(3),{children:i}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(t={p:2,display:"flex",flex:1,alignItems:"center",justifyContent:"space-between",backgroundColor:"canvas.subtle",borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px 6px 0px 0px"},n[0]=t):t=n[0],n[1]!==i?(r=(0,a.jsx)(v.az,{sx:t,children:i}),n[1]=i,n[2]=r):r=n[2],r}function I(e){let t,r,n,i=(0,o.c)(6),{headerInfo:s}=e;i[0]===Symbol.for("react.memo_cache_sentinel")?(t={maxWidth:"100%",color:"fg.subtle"},i[0]=t):t=i[0];let l=`${s.lineInfo.truncatedLoc} lines (${s.lineInfo.truncatedSloc} loc) \xb7 ${s.blobSize}`;return i[1]!==l?(r=(0,a.jsx)("span",{children:l}),i[1]=l,i[2]=r):r=i[2],i[3]!==s.blobSize||i[4]!==r?(n=(0,a.jsx)(v.PA,{title:s.blobSize,inline:!0,sx:t,"data-testid":"blob-size",children:r}),i[3]=s.blobSize,i[4]=r,i[5]=n):n=i[5],n}function D(e){let t,r=(0,o.c)(17),{headerInfo:n}=e;if(r[0]!==n.displayName||r[1]!==n.isLfs||r[2]!==n.rawBlobUrl||r[3]!==n.viewable){let e,o,i,s,l,c,d=new URL(n.rawBlobUrl,f.fV.origin);d.searchParams.set("download",""),r[5]!==n.displayName||r[6]!==n.isLfs||r[7]!==n.rawBlobUrl?(e=async()=>{n.isLfs||await R(n.rawBlobUrl,n.displayName)},r[5]=n.displayName,r[6]=n.isLfs,r[7]=n.rawBlobUrl,r[8]=e):e=r[8],r[9]===Symbol.for("react.memo_cache_sentinel")?(o={borderTopLeftRadius:0,borderBottomLeftRadius:0},r[9]=o):o=r[9],r[10]!==e?(i={"aria-label":"Download raw content",icon:b.DownloadIcon,size:"small",onClick:e,"data-testid":"download-raw-button",sx:o},r[10]=e,r[11]=i):i=r[11];let h=i;r[12]===Symbol.for("react.memo_cache_sentinel")?(s={display:"flex"},r[12]=s):s=r[12];let u=n.viewable?void 0:"true";r[13]===Symbol.for("react.memo_cache_sentinel")?(l={linkButtonSx:k,px:2,borderTopRightRadius:0,borderBottomRightRadius:0,borderRight:"none"},r[13]=l):l=r[13],r[14]!==n.rawBlobUrl||r[15]!==u?(c=(0,a.jsx)(v.z9,{href:n.rawBlobUrl,download:u,size:"small",sx:l,"data-testid":"raw-button",children:"Raw"}),r[14]=n.rawBlobUrl,r[15]=u,r[16]=c):c=r[16],t=(0,a.jsxs)(v.az,{sx:s,children:[c,n.isLfs?(0,a.jsx)(y.K,{unsafeDisableTooltip:!0,as:"a","data-turbo":"false",href:d.toString(),...h}):(0,a.jsx)(y.K,{unsafeDisableTooltip:!0,...h})]}),r[0]=n.displayName,r[1]=n.isLfs,r[2]=n.rawBlobUrl,r[3]=n.viewable,r[4]=t}else t=r[4];return t}let P=25,k={"&:hover:not([disabled])":{textDecoration:"none"},"&:focus:not([disabled])":{textDecoration:"none"},"&:active:not([disabled])":{textDecoration:"none"}};async function R(e,t){let r=await fetch(e,{method:"get"}),n=await r.blob(),a=document.createElement("a");a.setAttribute("download",t);let o=URL.createObjectURL(n);a.href=o,a.setAttribute("target","_blank"),a.click(),URL.revokeObjectURL(o)}try{O.displayName||(O.displayName="CodeReferencePreview")}catch{}try{N.displayName||(N.displayName="BlobPreviewHeader")}catch{}try{I.displayName||(I.displayName="BlobSize")}catch{}try{D.displayName||(D.displayName="RawButtons")}catch{}var E=r(30729),L=r(4817);function A(e){let t,r,n,i,s,l,c,d,h,p,f,g,x,w,y,j,S,C,O,N=(0,o.c)(45),{reference:I,detailsLoading:D,detailsError:P,onDismiss:k}=e;N[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(E.A,{icon:b.GitCommitIcon,sx:{mr:2}}),N[0]=t):t=N[0],N[1]===Symbol.for("react.memo_cache_sentinel")?(r={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},N[1]=r):r=N[1],N[2]!==I.message?(n=(0,a.jsx)(v.az,{sx:r,children:I.message}),N[2]=I.message,N[3]=n):n=N[3],N[4]!==k||N[5]!==n?(i=(0,a.jsxs)(_.O.Header,{onDismiss:k,children:[t,n]}),N[4]=k,N[5]=n,N[6]=i):i=N[6],N[7]===Symbol.for("react.memo_cache_sentinel")?(s={display:"flex",flexDirection:"row",p:3},N[7]=s):s=N[7];let R=`${I.author.login}.png`;return N[8]===Symbol.for("react.memo_cache_sentinel")?(l={mr:2,flexShrink:0},N[8]=l):l=N[8],N[9]!==R?(c=(0,a.jsx)(u.r,{src:R,sx:l}),N[9]=R,N[10]=c):c=N[10],N[11]===Symbol.for("react.memo_cache_sentinel")?(d={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},N[11]=d):d=N[11],N[12]!==I.author.login?(h=(0,a.jsx)(v.az,{sx:d,children:I.author.login}),N[12]=I.author.login,N[13]=h):h=N[13],N[14]!==h||N[15]!==c?(p=(0,a.jsxs)(v.az,{sx:s,children:[c,h]}),N[14]=h,N[15]=c,N[16]=p):p=N[16],N[17]===Symbol.for("react.memo_cache_sentinel")?(f=(0,a.jsx)(v.az,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),N[17]=f):f=N[17],N[18]!==I.message?(g=(0,a.jsx)(_.O.Content,{children:(0,a.jsx)(L.To,{markdown:I.message})}),N[18]=I.message,N[19]=g):g=N[19],N[20]===Symbol.for("react.memo_cache_sentinel")?(x=(0,a.jsx)(v.az,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),N[20]=x):x=N[20],N[21]!==I.repository.name||N[22]!==I.repository.owner?(w=(0,m.Do2)({name:I.repository.name,ownerLogin:I.repository.owner}),N[21]=I.repository.name,N[22]=I.repository.owner,N[23]=w):w=N[23],N[24]!==I.repository.name||N[25]!==I.repository.owner||N[26]!==w?(y=(0,a.jsxs)(_.O.DetailLink,{href:w,icon:b.RepoIcon,children:[I.repository.owner,"/",I.repository.name]}),N[24]=I.repository.name,N[25]=I.repository.owner,N[26]=w,N[27]=y):y=N[27],N[28]!==I.oid||N[29]!==I.permalink||N[30]!==I.repository.name||N[31]!==I.repository.owner?(j=(0,a.jsxs)(_.O.DetailLink,{href:I.permalink,icon:b.LinkExternalIcon,children:[I.repository.owner,"/",I.repository.name,"/commit/",I.oid]}),N[28]=I.oid,N[29]=I.permalink,N[30]=I.repository.name,N[31]=I.repository.owner,N[32]=j):j=N[32],N[33]!==y||N[34]!==j?(S=(0,a.jsxs)(_.O.Details,{children:[y,j]}),N[33]=y,N[34]=j,N[35]=S):S=N[35],N[36]!==P||N[37]!==D||N[38]!==p||N[39]!==g||N[40]!==S?(C=(0,a.jsxs)(_.O.Body,{detailsError:P,detailsLoading:D,children:[p,f,g,x,S]}),N[36]=P,N[37]=D,N[38]=p,N[39]=g,N[40]=S,N[41]=C):C=N[41],N[42]!==C||N[43]!==i?(O=(0,a.jsxs)(_.O.Frame,{children:[i,C]}),N[42]=C,N[43]=i,N[44]=O):O=N[44],O}try{A.displayName||(A.displayName="CommitReferencePreview")}catch{}var T=r(53037);let V={SegmentedControl:"MarkdownReferencePreview-module__SegmentedControl--Q7TCz"};function B(e){let t,r,n,i,s,l,c,d,h,f,y,j,S,C,O,N,I,D,P,k,R,E,L=(0,o.c)(65),{reference:A,details:T,detailsLoading:V,detailsError:B,onDismiss:F}=e,{contributors:z}=(0,g.u)(A.repoOwner,A.repoName,A.commitOID,A.path),[M]=(0,x.E)(A.repoOwner,A.repoName,A.commitOID,A.path),H=T?.repoIsOrgOwned,U=`${A.repoOwner}.png`;return L[0]===Symbol.for("react.memo_cache_sentinel")?(t={mr:2,flexShrink:0},L[0]=t):t=L[0],L[1]!==H||L[2]!==U?(r=(0,a.jsx)(u.r,{square:H,src:U,sx:t}),L[1]=H,L[2]=U,L[3]=r):r=L[3],L[4]===Symbol.for("react.memo_cache_sentinel")?(n={fontWeight:600,whiteSpace:"nowrap"},L[4]=n):n=L[4],L[5]!==A.repoName||L[6]!==A.repoOwner?(i=(0,a.jsxs)(v.EY,{sx:n,children:[A.repoOwner,"/",A.repoName]}),L[5]=A.repoName,L[6]=A.repoOwner,L[7]=i):i=L[7],L[8]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)(v.EY,{sx:{marginX:1},children:"\xb7"}),L[8]=s):s=L[8],L[9]===Symbol.for("react.memo_cache_sentinel")?(l={fontWeight:400},L[9]=l):l=L[9],L[10]!==A.ref?(c=(0,p.gE)(A.ref),L[10]=A.ref,L[11]=c):c=L[11],L[12]!==c?(d=(0,a.jsx)(v.EY,{sx:l,children:c}),L[12]=c,L[13]=d):d=L[13],L[14]===Symbol.for("react.memo_cache_sentinel")?(h=(0,a.jsx)(v.EY,{sx:{marginX:1},children:"\xb7"}),L[14]=h):h=L[14],L[15]===Symbol.for("react.memo_cache_sentinel")?(f={fontWeight:400,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},L[15]=f):f=L[15],L[16]!==A.path?(y=(0,a.jsx)(v.EY,{sx:f,children:A.path}),L[16]=A.path,L[17]=y):y=L[17],L[18]!==F||L[19]!==d||L[20]!==y||L[21]!==r||L[22]!==i?(j=(0,a.jsxs)(_.O.Header,{onDismiss:F,children:[r,i,s,d,h,y]}),L[18]=F,L[19]=d,L[20]=y,L[21]=r,L[22]=i,L[23]=j):j=L[23],L[24]!==T?(S=T&&(0,a.jsx)($,{details:T}),L[24]=T,L[25]=S):S=L[25],L[26]!==A.repoName||L[27]!==A.repoOwner?(C=(0,m.Do2)({name:A.repoName,ownerLogin:A.repoOwner}),L[26]=A.repoName,L[27]=A.repoOwner,L[28]=C):C=L[28],L[29]!==A.repoName||L[30]!==A.repoOwner||L[31]!==C?(O=(0,a.jsxs)(_.O.DetailLink,{href:C,icon:b.RepoIcon,children:[A.repoOwner,"/",A.repoName]}),L[29]=A.repoName,L[30]=A.repoOwner,L[31]=C,L[32]=O):O=L[32],L[33]!==z||L[34]!==T?.range||L[35]!==A.commitOID||L[36]!==A.path||L[37]!==A.repoName||L[38]!==A.repoOwner?(N=z&&(0,a.jsxs)(_.O.DetailLink,{icon:b.PeopleIcon,href:(0,m.buO)({owner:A.repoOwner,repo:A.repoName,commitish:A.commitOID,filePath:A.path,lineNumber:T?.range.start}),children:[z.totalCount," contributors"]}),L[33]=z,L[34]=T?.range,L[35]=A.commitOID,L[36]=A.path,L[37]=A.repoName,L[38]=A.repoOwner,L[39]=N):N=L[39],L[40]!==M||L[41]!==A.repoName||L[42]!==A.repoOwner?(I=M&&(0,a.jsxs)(_.O.DetailLink,{icon:b.HistoryIcon,href:(0,m.$Qz)({owner:A.repoOwner,repo:A.repoName,commitish:M?.oid}),children:[M?.author?.displayName," updated ",(0,a.jsx)(w.A,{datetime:M?.date})]}),L[40]=M,L[41]=A.repoName,L[42]=A.repoOwner,L[43]=I):I=L[43],L[44]!==T?(D=T?(0,a.jsxs)(a.Fragment,{children:["#",T.range.start,"-",T.range.end]}):null,L[44]=T,L[45]=D):D=L[45],L[46]!==A.path||L[47]!==A.repoName||L[48]!==A.repoOwner||L[49]!==A.url||L[50]!==D?(P=(0,a.jsxs)(_.O.DetailLink,{icon:b.LinkExternalIcon,href:A.url,children:[A.repoOwner,"/",A.repoName,"/",A.path,D]}),L[46]=A.path,L[47]=A.repoName,L[48]=A.repoOwner,L[49]=A.url,L[50]=D,L[51]=P):P=L[51],L[52]!==O||L[53]!==N||L[54]!==I||L[55]!==P?(k=(0,a.jsxs)(_.O.Details,{children:[O,N,I,P]}),L[52]=O,L[53]=N,L[54]=I,L[55]=P,L[56]=k):k=L[56],L[57]!==B||L[58]!==V||L[59]!==S||L[60]!==k?(R=(0,a.jsxs)(_.O.Body,{detailsLoading:V,detailsError:B,children:[S,k]}),L[57]=B,L[58]=V,L[59]=S,L[60]=k,L[61]=R):R=L[61],L[62]!==j||L[63]!==R?(E=(0,a.jsxs)(_.O.Frame,{children:[j,R]}),L[62]=j,L[63]=R,L[64]=E):E=L[64],E}function $(e){let t,r,n,i,s,l,c,d,h,u,m,p,f,g,x,b,w,y,S=(0,o.c)(51),{details:C}=e,[O,P]=(0,j.useState)(C.range.start),[k,R]=(0,j.useState)(C.range.end);t=z(C.contents,C.contents.length);let[E,A]=(0,j.useState)("preview");S[0]!==E?(r=e=>{let t=["preview","code"][e];t&&E!==t&&A(t)},S[0]=E,S[1]=r):r=S[1];let B=r,$=C?.headerInfo;S[2]!==C.contents||S[3]!==O?(n=()=>{P(function(e,t){let r=M(e,t),n=function(e){let t;for(let r of e)t=r;return t}(e.slice(0,r).matchAll(/^#+\s/gm));return z(e,n?.index??0)}(C.contents,O))},S[2]=C.contents,S[3]=O,S[4]=n):n=S[4];let H=n;S[5]!==C.contents||S[6]!==k||S[7]!==t?(i=()=>{let e=k;for(;e<t&&e<k+10;)e=function(e,t){let r=M(e,t),n=e.slice(r).match(/^#+\s/m),a=n?r+n.index:e.length;return z(e,a)}(C.contents,e+1);R(e-1)},S[5]=C.contents,S[6]=k,S[7]=t,S[8]=i):i=S[8];let U=i,W=C.contents;if(O){let e;if(S[9]!==k||S[10]!==W||S[11]!==O){let e=function(e,t,r=t-1){let n=-1,a=-1,o=-1;for(let i=1;;i++){if(i===t&&(a=n+1),i===r+1){o=n;break}if(-1===(n=e.indexOf(`
`,n+1)))break}return{startIndex:a,endIndex:o}}(W,O,k);e.endIndex>-1&&(W=W.slice(e.startIndex,e.endIndex)),S[9]=k,S[10]=W,S[11]=O,S[12]=W}else W=S[12];S[13]!==W?(e=W.replace(/^---\n[\s\S]*?\n---\n/,""),S[13]=W,S[14]=e):e=S[14],W=e}s=W,S[15]===Symbol.for("react.memo_cache_sentinel")?(l={border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px 6px 0 0",marginX:3},S[15]=l):l=S[15],S[16]===Symbol.for("react.memo_cache_sentinel")?(c={display:"flex",alignItems:"baseline",gap:2},S[16]=c):c=S[16];let G="preview"===E;S[17]!==G?(d=(0,a.jsx)(T.I.Button,{selected:G,children:"Preview"},"preview'"),S[17]=G,S[18]=d):d=S[18];let q="code"===E;return S[19]!==q?(h=(0,a.jsx)(T.I.Button,{selected:q,children:"Code"},"raw"),S[19]=q,S[20]=h):h=S[20],S[21]!==B||S[22]!==h||S[23]!==d?(u=(0,a.jsxs)(T.I,{"aria-label":"File view",size:"small",onChange:B,className:V.SegmentedControl,children:[d,h]}),S[21]=B,S[22]=h,S[23]=d,S[24]=u):u=S[24],S[25]!==$?(m=$&&(0,a.jsx)(I,{headerInfo:$}),S[25]=$,S[26]=m):m=S[26],S[27]!==u||S[28]!==m?(p=(0,a.jsxs)(v.az,{sx:c,children:[u,m]}),S[27]=u,S[28]=m,S[29]=p):p=S[29],S[30]!==$?(f=$&&(0,a.jsx)(D,{headerInfo:$}),S[30]=$,S[31]=f):f=S[31],S[32]!==p||S[33]!==f?(g=(0,a.jsxs)(N,{children:[p,f]}),S[32]=p,S[33]=f,S[34]=g):g=S[34],S[35]!==H||S[36]!==O?(x=O>1&&(0,a.jsx)(_.O.ContentExpander,{direction:"above",onExpand:H}),S[35]=H,S[36]=O,S[37]=x):x=S[37],S[38]!==C.contents||S[39]!==E||S[40]!==s?(b=(0,a.jsx)(_.O.Content,{children:"preview"===E?(0,a.jsx)(v.az,{className:"js-snippet-clipboard-copy-unpositioned",sx:{".highlighted":{backgroundColor:F}},children:(0,a.jsx)(L.To,{markdown:s,openLinksInCurrentTab:!1})}):(0,a.jsx)("code",{children:(0,a.jsx)(v.az,{as:"pre",sx:{overflowX:"auto"},children:C.contents})})}),S[38]=C.contents,S[39]=E,S[40]=s,S[41]=b):b=S[41],S[42]!==k||S[43]!==U||S[44]!==t?(w=k<t&&(0,a.jsx)(_.O.ContentExpander,{direction:"below",onExpand:U}),S[42]=k,S[43]=U,S[44]=t,S[45]=w):w=S[45],S[46]!==g||S[47]!==x||S[48]!==b||S[49]!==w?(y=(0,a.jsxs)(v.az,{sx:l,children:[g,x,b,w]}),S[46]=g,S[47]=x,S[48]=b,S[49]=w,S[50]=y):y=S[50],y}function F(e){return`${e.colors.accent.subtle}`}function z(e,t){return function(e){let t=0;for(let r of e)t++;return t}(e.slice(0,t).matchAll(/\n/g))+1}function M(e,t){if(1===t)return 0;let r=-1;for(let n=2;n<=t;n++)if(-1===(r=e.indexOf(`
`,r+1)))return e.length;return r+1}try{B.displayName||(B.displayName="MarkdownReferencePreview")}catch{}try{$.displayName||($.displayName="MarkdownReferencePreviewContent")}catch{}function H(e){let t,r,n,i,s,l,c,d,h,p,f,g,x,w,y,j,S,C,O,N=(0,o.c)(42),{reference:I,detailsLoading:D,detailsError:P,onDismiss:k}=e;N[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(E.A,{icon:b.GitCommitIcon,sx:{mr:2}}),N[0]=t):t=N[0],N[1]===Symbol.for("react.memo_cache_sentinel")?(r={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},N[1]=r):r=N[1],N[2]!==I.title?(n=(0,a.jsx)(v.az,{sx:r,children:I.title}),N[2]=I.title,N[3]=n):n=N[3],N[4]!==k||N[5]!==n?(i=(0,a.jsxs)(_.O.Header,{onDismiss:k,children:[t,n]}),N[4]=k,N[5]=n,N[6]=i):i=N[6],N[7]===Symbol.for("react.memo_cache_sentinel")?(s={display:"flex",flexDirection:"row",p:3},N[7]=s):s=N[7];let R=`${I.authorLogin}.png`;return N[8]===Symbol.for("react.memo_cache_sentinel")?(l={mr:2,flexShrink:0},N[8]=l):l=N[8],N[9]!==R?(c=(0,a.jsx)(u.r,{src:R,sx:l}),N[9]=R,N[10]=c):c=N[10],N[11]===Symbol.for("react.memo_cache_sentinel")?(d={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},N[11]=d):d=N[11],N[12]!==I.authorLogin?(h=(0,a.jsx)(v.az,{sx:d,children:I.authorLogin}),N[12]=I.authorLogin,N[13]=h):h=N[13],N[14]!==h||N[15]!==c?(p=(0,a.jsxs)(v.az,{sx:s,children:[c,h]}),N[14]=h,N[15]=c,N[16]=p):p=N[16],N[17]===Symbol.for("react.memo_cache_sentinel")?(f=(0,a.jsx)(v.az,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),N[17]=f):f=N[17],N[18]!==I.title?(g=(0,a.jsx)(_.O.Content,{children:(0,a.jsx)(L.To,{markdown:I.title})}),N[18]=I.title,N[19]=g):g=N[19],N[20]===Symbol.for("react.memo_cache_sentinel")?(x=(0,a.jsx)(v.az,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),N[20]=x):x=N[20],N[21]!==I.repository.name||N[22]!==I.repository.ownerLogin?(w=(0,m.Do2)({name:I.repository.name,ownerLogin:I.repository.ownerLogin}),N[21]=I.repository.name,N[22]=I.repository.ownerLogin,N[23]=w):w=N[23],N[24]!==I.repository.name||N[25]!==I.repository.ownerLogin||N[26]!==w?(y=(0,a.jsxs)(_.O.DetailLink,{href:w,icon:b.RepoIcon,children:[I.repository.ownerLogin,"/",I.repository.name]}),N[24]=I.repository.name,N[25]=I.repository.ownerLogin,N[26]=w,N[27]=y):y=N[27],N[28]!==I.url?(j=(0,a.jsx)(_.O.DetailLink,{href:I.url,icon:b.LinkExternalIcon,children:I.url}),N[28]=I.url,N[29]=j):j=N[29],N[30]!==y||N[31]!==j?(S=(0,a.jsxs)(_.O.Details,{children:[y,j]}),N[30]=y,N[31]=j,N[32]=S):S=N[32],N[33]!==P||N[34]!==D||N[35]!==p||N[36]!==g||N[37]!==S?(C=(0,a.jsxs)(_.O.Body,{detailsError:P,detailsLoading:D,children:[p,f,g,x,S]}),N[33]=P,N[34]=D,N[35]=p,N[36]=g,N[37]=S,N[38]=C):C=N[38],N[39]!==C||N[40]!==i?(O=(0,a.jsxs)(_.O.Frame,{children:[i,C]}),N[39]=C,N[40]=i,N[41]=O):O=N[41],O}try{H.displayName||(H.displayName="PullRequestReferencePreview")}catch{}function U(e){let t,r,n,i,s=(0,o.c)(20),{reference:l,details:c,detailsLoading:d,detailsError:h,onDismiss:u}=e,p=new Map,f=new Map;if(c?.kind==="suggestionSymbol")for(let e of c.suggestionDefinitions??[]){if(!e.highlightedContents)continue;let t=`${e.repoOwner}/${e.repoName}/${e.path}`;p.has(t)||p.set(t,[]),p.get(t).push(e)}else if(c?.kind==="codeNavSymbol"){for(let e of c.codeNavDefinitions??[]){if(!e.highlightedContents)continue;let t=`${e.repoOwner}/${e.repoName}/${e.path}`;p.has(t)||p.set(t,[]),p.get(t).push(e)}for(let e of c?.codeNavReferences??[]){if(!e.highlightedContents)continue;let t=`${e.repoOwner}/${e.repoName}/${e.path}`;f.has(t)||f.set(t,[]),f.get(t).push(e)}}let y=[...p.values()][0]?.[0]??[...f.values()][0]?.[0],v=p.size>0,j=f.size>0,S=[...p.values()].length,C=[...p.values()].reduce(Q,0),O=[...f.values()].length,N=[...f.values()].reduce(J,0),{contributors:I}=(0,g.u)(y?.repoOwner,y?.repoName,y?.commitOID,y?.path),[D]=(0,x.E)(y?.repoOwner,y?.repoName,y?.commitOID,y?.path),P=_.O;s[0]!==u||s[1]!==l.name?(t=(0,a.jsx)(_.O.Header,{onDismiss:u,children:l.name}),s[0]=u,s[1]=l.name,s[2]=t):t=s[2];let k=_.O,R=v&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(_.O.SectionDivider,{children:[C," ",1===C?"definition":"definitions",S>1?` across ${S} files`:null]}),[...p.values()].map(G)]}),E=j&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(_.O.SectionDivider,{children:[N," ",1===N?"reference":"references",O>1?` across ${O} files`:null]}),[...f.values()].map((e,t)=>(0,a.jsx)(_.O.CollapsibleSubsection,{title:e[0].path,initiallyOpen:0===t&&!v,children:(0,a.jsx)(_.O.Content,{children:e.map(W)})},e[0].path))]}),L=_.O,A=y&&(0,a.jsxs)(_.O.DetailLink,{href:(0,m.Do2)({name:y.repoName,ownerLogin:y.repoOwner}),icon:b.RepoIcon,children:[y.repoOwner,"/",y.repoName]}),T=I&&y&&(0,a.jsxs)(_.O.DetailLink,{icon:b.PeopleIcon,href:(0,m.buO)({owner:y.repoOwner,repo:y.repoName,commitish:y.commitOID,filePath:y.path}),children:[I.totalCount," ",1===I.totalCount?"contributor":"contributors"]}),V=D&&y&&(0,a.jsxs)(_.O.DetailLink,{icon:b.HistoryIcon,href:(0,m.$Qz)({owner:y.repoOwner,repo:y.repoName,commitish:D?.oid}),children:[D?.author?.displayName," updated ",(0,a.jsx)(w.A,{datetime:D?.date})]}),B=y&&(0,a.jsxs)(_.O.DetailLink,{icon:b.LinkExternalIcon,href:(0,m.nD_)({owner:y.repoOwner,repo:y.repoName,commitish:y.commitOID,filePath:y.path}),children:[y.repoOwner,"/",y.repoName,"/",y.path]});return s[3]!==B||s[4]!==L.Details||s[5]!==A||s[6]!==T||s[7]!==V?(r=(0,a.jsxs)(L.Details,{children:[A,T,V,B]}),s[3]=B,s[4]=L.Details,s[5]=A,s[6]=T,s[7]=V,s[8]=r):r=s[8],s[9]!==h||s[10]!==d||s[11]!==r||s[12]!==k.Body||s[13]!==R||s[14]!==E?(n=(0,a.jsxs)(k.Body,{detailsError:h,detailsLoading:d,children:[R,E,r]}),s[9]=h,s[10]=d,s[11]=r,s[12]=k.Body,s[13]=R,s[14]=E,s[15]=n):n=s[15],s[16]!==P.Frame||s[17]!==n||s[18]!==t?(i=(0,a.jsxs)(P.Frame,{children:[t,n]}),s[16]=P.Frame,s[17]=n,s[18]=t,s[19]=i):i=s[19],i}function W(e,t){return e.highlightedContents?(0,a.jsx)(C,{trimLineBeginnings:1===e.highlightedContents.length,lines:e.highlightedContents,lineNumbers:K(e)},t):null}function G(e,t){return(0,a.jsx)(_.O.CollapsibleSubsection,{title:e[0].path,initiallyOpen:0===t,children:(0,a.jsx)(_.O.Content,{children:e.map(q)})},e[0].path)}function q(e,t){return e.highlightedContents?(0,a.jsx)(C,{trimLineBeginnings:1===e.highlightedContents.length,lines:e.highlightedContents,lineNumbers:K(e)},t):null}function J(e,t){return e+t.length}function Q(e,t){return e+t.length}function K({range:e}){return e?Array(e.end-e.start+1).fill(null).map((t,r)=>e.start+r):[]}try{U.displayName||(U.displayName="SymbolReferencePreview")}catch{}function X(e){let t,r,n,i,s,l,c,d,h,p,f,y,j,S,C=(0,o.c)(48),{reference:O,details:N,detailsLoading:I,detailsError:D,onDismiss:P}=e,k=O.headFile??O.baseFile,{contributors:R}=(0,g.u)(k.repoOwner,k.repoName,k.commitOID,k.path),[E]=(0,x.E)(k.repoOwner,k.repoName,k.commitOID,k.path);C[0]!==O?(t=(e=>{let t,r=(t=e.selectedRange,t?.start?t.end?`${t.start}-${t.end}`:`${t.start}`:""),n=e.url.split(window.location.host)[1];return{href:e.url+r,path:n+r,range:r}})(O),C[0]=O,C[1]=t):t=C[1];let{href:L,path:A,range:T}=t,V=N?.repoIsOrgOwned,B=`${k.repoOwner}.png`;return C[2]===Symbol.for("react.memo_cache_sentinel")?(r={mr:2,flexShrink:0},C[2]=r):r=C[2],C[3]!==V||C[4]!==B?(n=(0,a.jsx)(u.r,{square:V,src:B,sx:r}),C[3]=V,C[4]=B,C[5]=n):n=C[5],C[6]===Symbol.for("react.memo_cache_sentinel")?(i={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},C[6]=i):i=C[6],C[7]!==k.path||C[8]!==k.repoName||C[9]!==k.repoOwner||C[10]!==T?(s=(0,a.jsxs)(v.az,{sx:i,children:[k.repoOwner,"/",k.repoName,"/",k.path," ",T]}),C[7]=k.path,C[8]=k.repoName,C[9]=k.repoOwner,C[10]=T,C[11]=s):s=C[11],C[12]!==P||C[13]!==n||C[14]!==s?(l=(0,a.jsxs)(_.O.Header,{onDismiss:P,children:[n,s]}),C[12]=P,C[13]=n,C[14]=s,C[15]=l):l=C[15],C[16]!==k.repoName||C[17]!==k.repoOwner?(c=(0,m.Do2)({name:k.repoName,ownerLogin:k.repoOwner}),C[16]=k.repoName,C[17]=k.repoOwner,C[18]=c):c=C[18],C[19]!==k.repoName||C[20]!==k.repoOwner||C[21]!==c?(d=(0,a.jsxs)(_.O.DetailLink,{href:c,icon:b.RepoIcon,children:[k.repoOwner,"/",k.repoName]}),C[19]=k.repoName,C[20]=k.repoOwner,C[21]=c,C[22]=d):d=C[22],C[23]!==k.commitOID||C[24]!==k.path||C[25]!==k.repoName||C[26]!==k.repoOwner||C[27]!==R?(h=R&&(0,a.jsxs)(_.O.DetailLink,{icon:b.PeopleIcon,href:(0,m.buO)({owner:k.repoOwner,repo:k.repoName,commitish:k.commitOID,filePath:k.path}),children:[R.totalCount," ",1===R.totalCount?"contributor":"contributors"]}),C[23]=k.commitOID,C[24]=k.path,C[25]=k.repoName,C[26]=k.repoOwner,C[27]=R,C[28]=h):h=C[28],C[29]!==k.repoName||C[30]!==k.repoOwner||C[31]!==E?(p=E&&(0,a.jsxs)(_.O.DetailLink,{icon:b.HistoryIcon,href:(0,m.$Qz)({owner:k.repoOwner,repo:k.repoName,commitish:E?.oid}),children:[E?.author?.displayName," updated ",(0,a.jsx)(w.A,{datetime:E?.date})]}),C[29]=k.repoName,C[30]=k.repoOwner,C[31]=E,C[32]=p):p=C[32],C[33]!==L||C[34]!==A?(f=(0,a.jsx)(_.O.DetailLink,{icon:b.LinkExternalIcon,href:L,children:A}),C[33]=L,C[34]=A,C[35]=f):f=C[35],C[36]!==d||C[37]!==h||C[38]!==p||C[39]!==f?(y=(0,a.jsxs)(_.O.Details,{children:[d,h,p,f]}),C[36]=d,C[37]=h,C[38]=p,C[39]=f,C[40]=y):y=C[40],C[41]!==D||C[42]!==I||C[43]!==y?(j=(0,a.jsx)(_.O.Body,{detailsError:D,detailsLoading:I,children:y}),C[41]=D,C[42]=I,C[43]=y,C[44]=j):j=C[44],C[45]!==j||C[46]!==l?(S=(0,a.jsxs)(_.O.Frame,{children:[l,j]}),C[45]=j,C[46]=l,C[47]=S):S=C[47],S}try{X.displayName||(X.displayName="FileDiffReferencePreview")}catch{}var Y=r(41738);function Z(e){let t,r=(0,o.c)(6),{dismissable:n}=e,{reference:i,details:s,detailsLoading:l,detailsError:c,dismissReference:d}=et(),h=n?d:void 0;return r[0]!==s||r[1]!==c||r[2]!==l||r[3]!==i||r[4]!==h?(t=(0,a.jsx)(ee,{reference:i,details:s,detailsLoading:l,detailsError:c,onDismiss:h}),r[0]=s,r[1]=c,r[2]=l,r[3]=i,r[4]=h,r[5]=t):t=r[5],t}function ee(e){let t=(0,o.c)(46),{reference:r,details:n,detailsLoading:i,detailsError:s,onDismiss:l}=e;switch(r.type){case"symbol":{let e,o;return t[0]!==r?(e=(0,d.Vb)(r),t[0]=r,t[1]=e):e=t[1],t[2]!==s||t[3]!==i||t[4]!==l||t[5]!==r||t[6]!==e||t[7]!==n?(o=(0,a.jsx)(U,{reference:r,details:n,detailsLoading:i,detailsError:s,onDismiss:l},e),t[2]=s,t[3]=i,t[4]=l,t[5]=r,t[6]=e,t[7]=n,t[8]=o):o=t[8],o}case"file":case"snippet":{let e;return t[9]!==n||t[10]!==s||t[11]!==i||t[12]!==l||t[13]!==r?(e="Markdown"===r.languageName?(0,a.jsx)(B,{reference:r,details:n,detailsError:s,detailsLoading:i,onDismiss:l},(0,d.Vb)(r)):(0,a.jsx)(O,{reference:r,details:n,detailsLoading:i,detailsError:s,onDismiss:l},(0,d.Vb)(r)),t[9]=n,t[10]=s,t[11]=i,t[12]=l,t[13]=r,t[14]=e):e=t[14],e}case"file-diff":{let e,o;return t[15]!==r?(e=(0,d.Vb)(r),t[15]=r,t[16]=e):e=t[16],t[17]!==s||t[18]!==i||t[19]!==l||t[20]!==r||t[21]!==e||t[22]!==n?(o=(0,a.jsx)(X,{reference:r,details:n,detailsLoading:i,detailsError:s,onDismiss:l},e),t[17]=s,t[18]=i,t[19]=l,t[20]=r,t[21]=e,t[22]=n,t[23]=o):o=t[23],o}case"commit":{let e,n;return t[24]!==r?(e=(0,d.Vb)(r),t[24]=r,t[25]=e):e=t[25],t[26]!==s||t[27]!==i||t[28]!==l||t[29]!==r||t[30]!==e?(n=(0,a.jsx)(A,{reference:r,detailsLoading:i,detailsError:s,onDismiss:l},e),t[26]=s,t[27]=i,t[28]=l,t[29]=r,t[30]=e,t[31]=n):n=t[31],n}case"pull-request":{let e,n;return t[32]!==r?(e=(0,d.Vb)(r),t[32]=r,t[33]=e):e=t[33],t[34]!==s||t[35]!==i||t[36]!==l||t[37]!==r||t[38]!==e?(n=(0,a.jsx)(H,{reference:r,detailsLoading:i,detailsError:s,onDismiss:l},e),t[34]=s,t[35]=i,t[36]=l,t[37]=r,t[38]=e,t[39]=n):n=t[39],n}case"web-search":{let e,n;return t[40]!==r?(e=(0,d.Vb)(r),t[40]=r,t[41]=e):e=t[41],t[42]!==l||t[43]!==r||t[44]!==e?(n=(0,a.jsx)(Y.I,{reference:r,onDismiss:l},e),t[42]=l,t[43]=r,t[44]=e,t[45]=n):n=t[45],n}default:return null}}function et(){let e,t,r,n,a,i,s=(0,o.c)(19),u=(0,c.b)(),m=(0,l.Pk)().selectedReference,p=m?.type;s[0]!==m?(e=m?(0,d.Vb)(m):void 0,s[0]=m,s[1]=e):e=s[1],s[2]!==p||s[3]!==e?(t=["copilot-reference-preview","copilot","references",p,e],s[2]=p,s[3]=e,s[4]=t):t=s[4],s[5]!==u||s[6]!==m?(r=async()=>{if(!m)return null;let e=await u.service.hydrateReference(m);return e.ok?e.payload:null},s[5]=u,s[6]=m,s[7]=r):r=s[7],s[8]!==t||s[9]!==r?(n={queryKey:t,queryFn:r,staleTime:5e-324},s[8]=t,s[9]=r,s[10]=n):n=s[10];let{isLoading:f,isError:g,data:x}=(0,h.I)(n);s[11]!==u?(a=()=>u.selectReference(null),s[11]=u,s[12]=a):a=s[12];let b=a,w=x??void 0;return s[13]!==b||s[14]!==g||s[15]!==f||s[16]!==m||s[17]!==w?(i={reference:m,dismissReference:b,details:w,detailsLoading:f,detailsError:g},s[13]=b,s[14]=g,s[15]=f,s[16]=m,s[17]=w,s[18]=i):i=s[18],i}try{Z.displayName||(Z.displayName="CopilotReferencePreview")}catch{}try{ee.displayName||(ee.displayName="CopilotReferencePreviewImpl")}catch{}function er(){var e;let t,r,n,l,c,d=(0,o.c)(13),{dismissReference:h,reference:u}=et(),{screenSize:m}=(0,s.lm)(),p=m<s.Gy.large;d[0]!==u?(e=u,t=e?.type==="web-search"?`Bing search results for "${e.query}"`:"Reference",d[0]=u,d[1]=t):t=d[1];let f=t,g=!!u;return d[2]!==p?(r={display:"flex",flexDirection:"column",overflow:"hidden",borderRadius:"var(--borderRadius-large)",margin:0,...p?{height:["auto","auto"],top:"1dvh",width:"90dvw"}:{top:"10vh",width:"50dvw",maxWidth:"1024px"}},d[2]=p,d[3]=r):r=d[3],d[4]!==f?(n=(0,a.jsx)(i.A.Header,{children:f}),d[4]=f,d[5]=n):n=d[5],d[6]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)(Z,{}),d[6]=l):l=d[6],d[7]!==h||d[8]!==g||d[9]!==r||d[10]!==n||d[11]!==f?(c=(0,a.jsxs)(i.A,{"aria-label":f,isOpen:g,onDismiss:h,sx:r,children:[n,l]}),d[7]=h,d[8]=g,d[9]=r,d[10]=n,d[11]=f,d[12]=c):c=d[12],c}try{er.displayName||(er.displayName="CopilotReferencePreviewDialog")}catch{}var en=r(53627),ea=r(53419),eo=r(26865),ei=r(30721),es=r(96379),el=r(57123),ec=r(55847),ed=r(94977),eh=r(34164),eu=r(18312),em=r(13171),ep=r(69599),ef=r(83494),eg=r(96459),ex=r(35181),eb=r(26239),ew=r(57448),ey=r(79064),ev=r(72303);let ej={copilotChatPanel:"ChatPanel-module__copilotChatPanel--Olv4b",openChat:"ChatPanel-module__openChat--FRUxy",ChatPanelContainer:"ChatPanel-module__ChatPanelContainer--qsaKi",verticalResizeTarget:"ChatPanel-module__verticalResizeTarget--YNU6i",horizontalResizeTarget:"ChatPanel-module__horizontalResizeTarget--s5u6t",cornerResizeTarget:"ChatPanel-module__cornerResizeTarget--WmiTb",panelContentContainer:"ChatPanel-module__panelContentContainer--nx0He"},e_={FloatingButtonContainer:"FloatingButton-module__FloatingButtonContainer--gD0z9"},eS=()=>{let e,t,r=(0,o.c)(7),n=(0,l.Pk)(),i=(0,c.b)();r[0]!==n?(e=(0,ev.W)(n),r[0]=n,r[1]=e):e=r[1];let s=e;return r[2]!==i||r[3]!==n.chatVisibleSettingPath||r[4]!==n.currentView||r[5]!==s?(t=(0,a.jsx)(y.K,{tabIndex:-1,id:"copilot-floating-button",icon:b.CopilotIcon,"aria-label":"Open Copilot chat","aria-controls":eb.wJ,tooltipDirection:"w",onClick:()=>{i.openChat(s,n.currentView,"floating-button-v2",n.chatVisibleSettingPath)},"data-hotkey":"Shift+Z",className:e_.FloatingButtonContainer}),r[2]=i,r[3]=n.chatVisibleSettingPath,r[4]=n.currentView,r[5]=s,r[6]=t):t=r[6],t};try{eS.displayName||(eS.displayName="FloatingButton")}catch{}var eC=r(35673);let eO=e=>{let t,r,n,i,s,h,u,m=(0,o.c)(27),{children:p,initialFocusRef:f,staffDialogRef:g,handleClose:x,panelWidth:b,panelHeight:w,startResize:y,onResizerKeyDown:_}=e,S=(0,l.Pk)(),{chatIsOpen:C,chatIsVisible:O,currentTopic:N}=S,I=S.entryPointId??eb.fv,D=(0,j.useRef)(null),P=(0,j.useRef)(null);m[0]!==I?(t=()=>{P.current=document.getElementById(I)},r=[I],m[0]=I,m[1]=t,m[2]=r):(t=m[1],r=m[2]),(0,j.useEffect)(t,r),m[3]!==x?(n=()=>{D.current&&D.current.contains(document.activeElement)&&x(!0)},m[3]=x,m[4]=n):n=m[4];let k=n,R=(0,c.b)();m[5]!==S?(i=(0,ev.W)(S),m[5]=S,m[6]=i):i=m[6];let E=i,L=(0,eg.Z)();m[7]!==N||m[8]!==L||m[9]!==S.currentReferences||m[10]!==E?(s=()=>{(0,ea.BI)("dotcom_chat.activate",{target:"IMMERSIVE_OPTION",mode:"assistive"}),ey.Jt.setCurrentReferences(E?.id??null,S.currentReferences),E?L(`${d.Jz}/c/${E.id}`):N&&(0,d.Z6)(N)?L(`${d.Jz}/r/${N.ownerLogin}/${N.name}`):L(d.Jz)},m[7]=N,m[8]=L,m[9]=S.currentReferences,m[10]=E,m[11]=s):s=m[11];let A=s;return m[12]!==C||m[13]!==O||m[14]!==p||m[15]!==f||m[16]!==R||m[17]!==A||m[18]!==k||m[19]!==_||m[20]!==w||m[21]!==b||m[22]!==g||m[23]!==y?(h=C?(0,a.jsxs)(ex.Ay,{id:eb.wJ,className:(0,eh.$)(ej.copilotChatPanel,C&&ej.openChat),ref:D,portalContainerName:(0,ep.G7)("primer_react_unified_portal_root")?void 0:eC.Gj,onEscape:k,onClickOutside:eN,ignoreClickRefs:[g],initialFocusRef:f,returnFocusRef:P,style:{"--panel-width":`${b}px`,"--panel-height":`${w}px`,"--panel-min-height":`${ew.cx}px`,"--panel-min-width":`${ew.Ld}px`},right:8,bottom:8,anchorSide:"inside-top",position:"fixed",role:"dialog","aria-labelledby":eb.Qs,children:[(0,a.jsx)(ef.ak,{commands:{"copilot-chat:close-assistive":()=>R.closeChat()}}),(0,a.jsx)(ef.tL,{commands:{"copilot-chat:continue-in-immersive":A},children:(0,a.jsx)("section",{id:eb.Qs,"aria-label":"Copilot chat panel",style:{height:"100%"},children:(0,a.jsxs)("div",{"data-testid":eb.Qs,className:ej.ChatPanelContainer,children:[(0,a.jsx)(v.az,{id:"vertical-resize-click-target",sx:{cursor:C?"ns-resize":void 0},onMouseDown:e=>y(e,!1,!0),className:ej.verticalResizeTarget}),(0,a.jsx)(v.az,{sx:{cursor:C?"ew-resize":void 0},onMouseDown:e=>y(e,!0,!1),className:ej.horizontalResizeTarget}),(0,a.jsx)(v.az,{sx:{cursor:C?"nwse-resize":"undefined"},"aria-label":"Chat panel resizer","aria-valuetext":`${b}, ${w}`,"aria-valuenow":b,role:"separator",onMouseDown:e=>y(e,!0,!0),tabIndex:0,onKeyDown:_,className:ej.cornerResizeTarget}),(0,a.jsx)("div",{className:ej.panelContentContainer,children:p})]})})})]}):O&&!(0,ep.G7)("copilot_no_floating_button")?(0,a.jsx)(eS,{}):null,m[12]=C,m[13]=O,m[14]=p,m[15]=f,m[16]=R,m[17]=A,m[18]=k,m[19]=_,m[20]=w,m[21]=b,m[22]=g,m[23]=y,m[24]=h):h=m[24],m[25]!==h?(u=(0,a.jsx)(a.Fragment,{children:h}),m[25]=h,m[26]=u):u=m[26],u};try{eO.displayName||(eO.displayName="ChatPanel")}catch{}function eN(){}var eI=r(54589),eD=r(11083),eP=r(63557),ek=r(21654),eR=r(5945),eE=r(52446),eL=r(51213),eA=r(35247),eT=r(17005);let eV={HeaderContainer:"Header-module__HeaderContainer--rObkM",headerTitleContainer:"Header-module__headerTitleContainer--Dl484",HeaderTitle:"Header-module__HeaderTitle--fAPdx",headerActions:"Header-module__headerActions--YEgVs",betaLabel:"Header-module__betaLabel--oV8Ou",actionButton:"Header-module__actionButton--Zt7jn",buttonSeparator:"Header-module__buttonSeparator--W8lbr"};var eB=r(87255),e$=r(65029),eF=r(81246),ez=r(24815),eM=r(16255),eH=r(96665),eU=r(44902);let eW={dialogContentContainer:"ExperimentsDialog-module__dialogContentContainer--mWDus",experimentsInput:"ExperimentsDialog-module__experimentsInput--Uko5H"},eG=e=>{let t,r,n,i,s,l,c,d,h,u,m,p,f,g=(0,o.c)(29),{onDismiss:x,experimentsDialogRef:b}=e,[w,y]=(0,j.useState)(eq),[v,_]=(0,j.useState)(void 0),S=(0,j.useRef)("\u200B");g[0]!==w||g[1]!==x?(t=()=>{let e=[];for(let t of w.split(","))if(""!==t.trim()){if(2!==t.split("=").length){_(`Invalid experiment key=value pair${S.current}`),S.current=S.current+"\u200B";return}_(""),e.push(t)}(0,eU.R)(e),x()},g[0]=w,g[1]=x,g[2]=t):t=g[2];let C=t;return g[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)(e$.A.Label,{children:"Experiments"}),g[3]=r):r=g[3],g[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)("code",{children:"key=value"}),g[4]=n):n=g[4],g[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(e$.A.Caption,{children:(0,a.jsxs)("span",{children:["List experiments as comma separated ",n," pairs. To see available experiments,"," ",(0,a.jsx)(eF.A,{inline:!0,target:"_blank",href:`/search?q=${encodeURIComponent("repo:github/copilot-api path:experiments.go")}`,children:"read this code"}),"."]})}),g[5]=i):i=g[5],g[6]===Symbol.for("react.memo_cache_sentinel")?(s=e=>y(e.target.value),g[6]=s):s=g[6],g[7]!==C?(l=e=>{"Enter"===e.key&&C()},g[7]=C,g[8]=l):l=g[8],g[9]!==w||g[10]!==l?(c=(0,a.jsx)(ez.A,{"aria-label":"Experiments",name:"experiments",value:w,onChange:s,onKeyDown:l,className:eW.experimentsInput}),g[9]=w,g[10]=l,g[11]=c):c=g[11],g[12]!==v?(d=v&&(0,a.jsx)(e$.A.Validation,{variant:"error",children:v}),g[12]=v,g[13]=d):d=g[13],g[14]!==c||g[15]!==d?(h=(0,a.jsx)(eH.l.Body,{children:(0,a.jsx)("div",{className:eW.dialogContentContainer,children:(0,a.jsxs)(e$.A,{children:[r,i,c,d]})})}),g[14]=c,g[15]=d,g[16]=h):h=g[16],g[17]!==x?(u={type:"button",onClick:x,content:"Cancel"},g[17]=x,g[18]=u):u=g[18],g[19]!==C?(m={type:"button",onClick:C,content:"Save",buttonType:"primary"},g[19]=C,g[20]=m):m=g[20],g[21]!==u||g[22]!==m?(p=(0,a.jsx)(eH.l.Footer,{children:(0,a.jsx)(eH.l.Buttons,{buttons:[u,m]})}),g[21]=u,g[22]=m,g[23]=p):p=g[23],g[24]!==b||g[25]!==x||g[26]!==p||g[27]!==h?(f=(0,a.jsx)(eM.Z,{children:(0,a.jsxs)(eH.l,{ref:b,onClose:x,title:"Experiments",width:"xlarge",children:[h,p]})}),g[24]=b,g[25]=x,g[26]=p,g[27]=h,g[28]=f):f=g[28],f};try{eG.displayName||(eG.displayName="ExperimentsDialog")}catch{}function eq(){return(0,eU.f)().join(",")}var eJ=r(75298),eQ=r(46309),eK=r(49755);let eX={Dialog:"PromptDialog-module__Dialog--gvqi7",systemInstructionsTextarea:"PromptDialog-module__systemInstructionsTextarea--JIAZO",temperatureFormControl:"PromptDialog-module__temperatureFormControl--oJoQJ",toolsSectionHeader:"PromptDialog-module__toolsSectionHeader--jFBxE",deleteToolButton:"PromptDialog-module__deleteToolButton--PRDPZ"},eY=e=>{let t,r,n,i,s,l,d,h,u,m,p,f,g,x,w,v,_,S,C,O,N,I,D,P=(0,o.c)(53),{onDismiss:k,promptDialogRef:R}=e,E=(0,c.b)(),L=ey.Jt.settings,[A,T]=(0,j.useState)(L?.instructionPrompt||void 0);P[0]===Symbol.for("react.memo_cache_sentinel")?(t=L?.skillOverrides??[],P[0]=t):t=P[0];let[V,B]=(0,j.useState)(t),[$,F]=(0,j.useState)(L?.temperature||.7),z=(0,j.useRef)(void 0);P[1]!==E||P[2]!==k||P[3]!==A||P[4]!==$||P[5]!==V?(r=()=>{let e=V.filter(eZ);E.setCopilotSettings({instructionPrompt:A||"",skillOverrides:e,temperature:$}),k()},P[1]=E,P[2]=k,P[3]=A,P[4]=$,P[5]=V,P[6]=r):r=P[6];let M=r;P[7]!==E?(n=async()=>{if(z.current)return void T(z.current);let e=await E.getSystemPrompt();z.current=e,T(e)},P[7]=E,P[8]=n):n=P[8];let H=n;P[9]!==H||P[10]!==A?(i=()=>{(async()=>{void 0===A&&await H()})()},P[9]=H,P[10]=A,P[11]=i):i=P[11],P[12]!==H||P[13]!==E||P[14]!==A?(s=[H,E,A],P[12]=H,P[13]=E,P[14]=A,P[15]=s):s=P[15],(0,j.useEffect)(i,s),P[16]!==H?(l=()=>{H(),B([]),F(.7)},P[16]=H,P[17]=l):l=P[17];let U=l;return P[18]===Symbol.for("react.memo_cache_sentinel")?(d=(0,a.jsx)(e$.A.Label,{children:"System Instructions"}),P[18]=d):d=P[18],P[19]===Symbol.for("react.memo_cache_sentinel")?(h=(0,a.jsx)(e$.A.Caption,{children:(0,a.jsx)("span",{children:"Make adjustments to the system instructions or add new instructions."})}),P[19]=h):h=P[19],P[20]===Symbol.for("react.memo_cache_sentinel")?(u=e=>T(e.target.value),P[20]=u):u=P[20],P[21]!==A?(m=(0,a.jsxs)(e$.A,{children:[d,h,(0,a.jsx)(eJ.Ay,{block:!0,"aria-label":"Prompt",name:"Prompt",value:A,onChange:u,className:eX.systemInstructionsTextarea})]}),P[21]=A,P[22]=m):m=P[22],P[23]===Symbol.for("react.memo_cache_sentinel")?(p=(0,a.jsx)(e$.A.Label,{children:"Temperature"}),f=(0,a.jsx)(e$.A.Caption,{children:"Controls the randomness of the model's responses. Lower temperatures are more deterministic, while higher temperatures are more random."}),P[23]=p,P[24]=f):(p=P[23],f=P[24]),P[25]===Symbol.for("react.memo_cache_sentinel")?(g=e=>F(Number(e.target.value)),P[25]=g):g=P[25],P[26]!==$?(x=(0,a.jsxs)(e$.A,{className:eX.temperatureFormControl,children:[p,f,(0,a.jsx)(ez.A,{type:"number",min:"0",max:"1",step:"0.01",block:!0,value:$,onChange:g})]}),P[26]=$,P[27]=x):x=P[27],P[28]===Symbol.for("react.memo_cache_sentinel")?(w=(0,a.jsx)("div",{className:eX.toolsSectionHeader,children:"Tools"}),P[28]=w):w=P[28],P[29]!==V?(v=V.map((e,t)=>(0,a.jsxs)(j.Fragment,{children:[(0,a.jsxs)(eQ.B,{direction:"horizontal",className:"py-2",children:[(0,a.jsxs)(e$.A,{children:[(0,a.jsx)(e$.A.Label,{children:"Name"}),(0,a.jsx)(e$.A.Caption,{children:(0,a.jsx)("span",{children:"Slug of tool you want to adjust"})}),(0,a.jsx)(ez.A,{defaultValue:e.slug,onChange:e=>{V.map((r,n)=>{n===t&&(r.slug=e.target.value)})}})]}),(0,a.jsxs)(e$.A,{children:[(0,a.jsx)(e$.A.Label,{children:"Description"}),(0,a.jsx)(e$.A.Caption,{children:(0,a.jsx)("span",{children:"Make changes to the tool description"})}),(0,a.jsx)(ez.A,{defaultValue:e.description,onChange:r=>{V.map((n,a)=>{a===t&&(e.description=r.target.value)})}})]}),(0,a.jsxs)(e$.A,{children:[(0,a.jsx)(e$.A.Label,{id:"toggle",children:"Enabled?"}),(0,a.jsx)(eK.A,{size:"small","aria-labelledby":"toggle",defaultChecked:e.enabled,onChange:e=>{V.map((r,n)=>{n===t&&(r.enabled=e)})}})]}),(0,a.jsx)(y.K,{icon:b.TrashIcon,"aria-label":"Delete tool",variant:"invisible",onClick:()=>{let e=[...V];1===V.length?B([]):(e.splice(t,1),B(e))},className:eX.deleteToolButton})]}),t===V.length-1&&(0,a.jsx)(ec.Q,{leadingVisual:(0,a.jsx)(b.PlusIcon,{}),onClick:()=>B([...V,{slug:"",description:"",enabled:!0}]),variant:"invisible",size:"small",children:"Add another tool"})]},`tool-${e.slug}-${Math.random()}`)),P[29]=V,P[30]=v):v=P[30],P[31]!==V?(_=0===V.length&&(0,a.jsx)(ec.Q,{leadingVisual:(0,a.jsx)(b.PlusIcon,{}),onClick:()=>B([...V,{slug:"",description:"",enabled:!0}]),variant:"invisible",size:"small",children:"Add a tool"}),P[31]=V,P[32]=_):_=P[32],P[33]!==m||P[34]!==x||P[35]!==v||P[36]!==_?(S=(0,a.jsxs)(eH.l.Body,{children:[m,x,w,v,_]}),P[33]=m,P[34]=x,P[35]=v,P[36]=_,P[37]=S):S=P[37],P[38]!==k?(C={type:"button",onClick:k,content:"Cancel"},P[38]=k,P[39]=C):C=P[39],P[40]!==U?(O={type:"button",onClick:U,content:"Reset"},P[40]=U,P[41]=O):O=P[41],P[42]!==M?(N={type:"button",onClick:M,content:"Save",buttonType:"primary"},P[42]=M,P[43]=N):N=P[43],P[44]!==C||P[45]!==O||P[46]!==N?(I=(0,a.jsx)(eH.l.Footer,{children:(0,a.jsx)(eH.l.Buttons,{buttons:[C,O,N]})}),P[44]=C,P[45]=O,P[46]=N,P[47]=I):I=P[47],P[48]!==k||P[49]!==R||P[50]!==S||P[51]!==I?(D=(0,a.jsx)(eM.Z,{children:(0,a.jsxs)(eH.l,{ref:R,onClose:k,title:"Prompt Settings",width:"xlarge",className:eX.Dialog,children:[S,I]})}),P[48]=k,P[49]=R,P[50]=S,P[51]=I,P[52]=D):D=P[52],D};try{eY.displayName||(eY.displayName="PromptDialog")}catch{}function eZ(e){return e.slug&&e.description}let e0=e=>{let t,r,n,i=(0,o.c)(11),{dialogType:s,onDismiss:l,staffDialogRef:c}=e;return i[0]!==s||i[1]!==l||i[2]!==c?(t=s===eL.hs.Experiments&&(0,a.jsx)(eG,{experimentsDialogRef:c,onDismiss:l}),i[0]=s,i[1]=l,i[2]=c,i[3]=t):t=i[3],i[4]!==s||i[5]!==l||i[6]!==c?(r=s===eL.hs.Prompt&&(0,a.jsx)(eY,{promptDialogRef:c,onDismiss:l}),i[4]=s,i[5]=l,i[6]=c,i[7]=r):r=i[7],i[8]!==t||i[9]!==r?(n=(0,a.jsxs)(a.Fragment,{children:[t,r]}),i[8]=t,i[9]=r,i[10]=n):n=i[10],n};try{e0.displayName||(e0.displayName="StaffDialogs")}catch{}let e1=e=>{let t,r,n,i,s,d,h,u,m,p,f,g,x,w,_=(0,o.c)(54),S=(0,l.Pk)(),C=(0,c.b)(),[O,N]=(0,j.useState)(!1);_[0]!==S?(t=(0,ev.W)(S),_[0]=S,_[1]=t):t=_[1];let I=t,{showTopicPicker:D,messages:P,streamingMessage:k}=S,R=I?.name??S.restoredThreadTitle;_[2]!==C||_[3]!==I?(r=async()=>I&&C.deleteThread(I),_[2]=C,_[3]=I,_[4]=r):r=_[4];let E=r;_[5]===Symbol.for("react.memo_cache_sentinel")?(n=(0,ep.G7)("lifecycle_label_name_updates"),_[5]=n):n=_[5];let L=n;_[6]===Symbol.for("react.memo_cache_sentinel")?(i=(0,ep.G7)("copilot_no_floating_button"),_[6]=i):i=_[6];let A=i,T=(0,j.useRef)(null),V="immersive"===S.mode?1:3,B=D?"none":"1px solid";return _[7]!==V||_[8]!==B?(s={pl:V,borderBottom:B},_[7]=V,_[8]=B,_[9]=s):s=_[9],_[10]!==P||_[11]!==e.isImmersive||_[12]!==e.isResponding||_[13]!==D||_[14]!==S.chatIsOpen||_[15]!==S.currentView||_[16]!==R?(d="thread"===S.currentView?!D&&!e.isImmersive&&0===P.length&&S.chatIsOpen&&(0,a.jsx)(eP.A,{as:"h2",className:eV.HeaderTitle,children:"thread"===S.currentView?(0,a.jsx)(a.Fragment,{children:R?(0,a.jsx)("span",{className:"Truncate",children:(0,a.jsx)("span",{className:"Truncate-text",title:R,children:R})}):e.isResponding&&!S.chatIsOpen?(0,a.jsx)(a.Fragment,{children:"Responding\u2026"}):S.chatIsOpen?!D&&(0,a.jsx)(a.Fragment,{children:"New conversation"}):(0,a.jsx)(a.Fragment,{children:"Ask Copilot"})}):"Copilot"}):(0,a.jsx)(e2,{}),_[10]=P,_[11]=e.isImmersive,_[12]=e.isResponding,_[13]=D,_[14]=S.chatIsOpen,_[15]=S.currentView,_[16]=R,_[17]=d):d=_[17],_[18]!==d?(h=(0,a.jsx)("div",{className:eV.headerTitleContainer,children:d}),_[18]=d,_[19]=h):h=_[19],_[20]!==E||_[21]!==C||_[22]!==P||_[23]!==e.setShowStaffDialog||_[24]!==S.chatIsOpen||_[25]!==S.currentView||_[26]!==S.renderBetaLabel||_[27]!==I?(u=S.chatIsOpen&&(0,a.jsxs)(a.Fragment,{children:[S.renderBetaLabel&&(L?(0,a.jsx)(eI.X,{className:"mr-2"}):(0,a.jsx)(ek.A,{variant:"success",className:eV.betaLabel,children:"Beta"})),"thread"===S.currentView?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.K,{hidden:0===P.length,variant:"invisible",icon:b.PlusIcon,"aria-label":"New conversation",tooltipDirection:"s",onClick:async()=>{await C.selectThread(null)},className:eV.actionButton}),(0,a.jsx)(e3,{anchorRef:T,handleDelete:E,thread:I,setShowStaffDialog:e.setShowStaffDialog,setShowPersonalInstructionsDialog:N})]}):(0,a.jsx)(y.K,{variant:"invisible",icon:b.PlusIcon,"aria-label":"New conversation",tooltipDirection:"w",onClick:async()=>{await C.selectThread(null)},className:eV.actionButton})]}),_[20]=E,_[21]=C,_[22]=P,_[23]=e.setShowStaffDialog,_[24]=S.chatIsOpen,_[25]=S.currentView,_[26]=S.renderBetaLabel,_[27]=I,_[28]=u):u=_[28],_[29]!==C||_[30]!==e.isImmersive||_[31]!==S.chatIsOpen||_[32]!==S.chatVisibleSettingPath||_[33]!==S.currentView||_[34]!==k||_[35]!==I?(m=!e.isImmersive&&(0,a.jsxs)(a.Fragment,{children:[S.chatIsOpen&&(0,a.jsx)("div",{className:eV.buttonSeparator}),(0,a.jsx)(ef.N5,{commandId:"copilot-chat:continue-in-immersive",variant:"invisible",icon:b.ScreenFullIcon,"aria-label":"Continue in immersive",disabled:!!k,tooltipDirection:"sw",className:eV.actionButton}),A?(0,a.jsx)(ef.N5,{commandId:"copilot-chat:close-assistive",variant:"invisible",icon:b.XIcon,tooltipDirection:"sw",className:eV.actionButton}):(0,a.jsx)(y.K,{variant:"invisible",icon:S.chatIsOpen?b.ChevronDownIcon:b.ChevronUpIcon,"aria-label":S.chatIsOpen?"Collapse":"Expand",tooltipDirection:S.chatIsOpen?"sw":"w",onClick:S.chatIsOpen?()=>C.closeChat():()=>C.openChat(I,S.currentView,"header",S.chatVisibleSettingPath),"data-hotkey":"Shift+Z",className:eV.actionButton})]}),_[29]=C,_[30]=e.isImmersive,_[31]=S.chatIsOpen,_[32]=S.chatVisibleSettingPath,_[33]=S.currentView,_[34]=k,_[35]=I,_[36]=m):m=_[36],_[37]!==m||_[38]!==u?(p=(0,a.jsxs)("div",{className:eV.headerActions,children:[u,m]}),_[37]=m,_[38]=u,_[39]=p):p=_[39],_[40]!==e?(f=()=>e.setShowStaffDialog(eL.hs.None),_[40]=e,_[41]=f):f=_[41],_[42]!==e.showStaffDialog||_[43]!==e.staffDialogRef||_[44]!==f?(g=(0,a.jsx)(e0,{dialogType:e.showStaffDialog,staffDialogRef:e.staffDialogRef,onDismiss:f}),_[42]=e.showStaffDialog,_[43]=e.staffDialogRef,_[44]=f,_[45]=g):g=_[45],_[46]!==O?(x=O&&(0,a.jsx)(eB.Y,{returnFocusRef:T,onDismiss:()=>N(!1)}),_[46]=O,_[47]=x):x=_[47],_[48]!==p||_[49]!==g||_[50]!==x||_[51]!==s||_[52]!==h?(w=(0,a.jsxs)(v.az,{sx:s,className:eV.HeaderContainer,children:[h,p,g,x]}),_[48]=p,_[49]=g,_[50]=x,_[51]=s,_[52]=h,_[53]=w):w=_[53],w},e2=()=>{let e,t,r,n=(0,o.c)(7),{mode:i}=(0,l.Pk)(),s=(0,c.b)();n[0]!==s?(e=()=>s.viewCurrentThread(),n[0]=s,n[1]=e):e=n[1];let d="assistive"===i?"-8px":void 0;return n[2]!==d?(t={marginLeft:d},n[2]=d,n[3]=t):t=n[3],n[4]!==e||n[5]!==t?(r=(0,a.jsx)(v.$n,{leadingVisual:b.ArrowLeftIcon,variant:"invisible",onClick:e,sx:t,className:eV.actionButton,children:"Back"}),n[4]=e,n[5]=t,n[6]=r):r=n[6],r},e3=e=>{let t,r,n,i,s,h,u,m,p,f,g,x,w,v,_,S,C,O,N,I,D,P,k,R,E,L,A=(0,o.c)(54),[T,V]=(0,j.useState)(!1),{chatVisibleSettingPath:B,mode:$,repoCustomInstructionsEnabled:F,currentReferences:z}=(0,l.Pk)(),M=(0,c.b)(),H=(0,j.useRef)(null);A[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,ep.G7)("copilot_no_floating_button"),A[0]=t):t=A[0];let U=t,W=eA.W.staffPromptDialog;A[1]!==z?(r=(0,d.NJ)(z),A[1]=z,A[2]=r):r=A[2];let G=r;A[3]!==M?(n=()=>{M.fetchThreads(),M.viewAllThreads(),(0,ea.BI)("copilot.view-conversations-clicked")},A[3]=M,A[4]=n):n=A[4];let q=n;A[5]!==e?(i=()=>{e.handleDelete(),V(!1)},A[5]=e,A[6]=i):i=A[6];let J=i;A[7]===Symbol.for("react.memo_cache_sentinel")?(h=(0,eD.X)(),A[7]=h):h=A[7],s=h;let Q=!e.thread;A[8]===Symbol.for("react.memo_cache_sentinel")?(u=()=>V(e4),A[8]=u):u=A[8],A[9]===Symbol.for("react.memo_cache_sentinel")?(m=(0,a.jsx)(eR.W.Anchor,{children:(0,a.jsx)(y.K,{icon:b.KebabHorizontalIcon,variant:"invisible","aria-label":"Conversation options",tooltipDirection:"n",className:eV.actionButton})}),A[9]=m):m=A[9],A[10]!==G.length||A[11]!==M||A[12]!==F?(p=G.length>0&&(0,a.jsxs)(eE.l.Item,{onSelect:()=>{M.toggleRepoCustomInstructions(!F)},children:[(0,a.jsx)(eE.l.LeadingVisual,{children:(0,a.jsx)(b.NoteIcon,{})}),F?"Disable custom instructions":"Enable custom instructions"]}),A[10]=G.length,A[11]=M,A[12]=F,A[13]=p):p=A[13];let K=Q?"default":"danger";return A[14]===Symbol.for("react.memo_cache_sentinel")?(f=(0,a.jsx)(eE.l.LeadingVisual,{children:(0,a.jsx)(b.TrashIcon,{})}),A[14]=f):f=A[14],A[15]===Symbol.for("react.memo_cache_sentinel")?(g=(0,a.jsx)("p",{id:"delete-conversation-description",className:"sr-only",children:"This is a destructive action that cannot be undone"}),A[15]=g):g=A[15],A[16]!==Q||A[17]!==J||A[18]!==K?(x=(0,a.jsxs)(eE.l.Item,{variant:K,onSelect:J,disabled:Q,"aria-describedby":"delete-conversation-description",children:[f,"Delete conversation",g]}),A[16]=Q,A[17]=J,A[18]=K,A[19]=x):x=A[19],A[20]===Symbol.for("react.memo_cache_sentinel")?(w=(0,a.jsx)(eE.l.Divider,{}),A[20]=w):w=A[20],A[21]!==e?(v=()=>e.setShowPersonalInstructionsDialog(!0),A[21]=e,A[22]=v):v=A[22],A[23]===Symbol.for("react.memo_cache_sentinel")?(_=(0,a.jsx)(eE.l.LeadingVisual,{children:(0,a.jsx)(b.ToolsIcon,{})}),A[23]=_):_=A[23],A[24]!==v?(S=(0,a.jsxs)(eE.l.Item,{onSelect:v,children:[_,"Personal instructions"]}),A[24]=v,A[25]=S):S=A[25],A[26]!==q||A[27]!==$?(C="assistive"===$&&(0,a.jsxs)(eE.l.Item,{onSelect:q,children:[(0,a.jsx)(eE.l.LeadingVisual,{children:(0,a.jsx)(b.HistoryIcon,{})}),"View all conversations"]}),A[26]=q,A[27]=$,A[28]=C):C=A[28],A[29]===Symbol.for("react.memo_cache_sentinel")?(O=()=>{H.current?.openDialog(),(0,ea.BI)("dotcom_chat.activate",{target:"META_CONTEXT_MENU_GIVE_FEEDBACK",mode:"assistive"})},A[29]=O):O=A[29],A[30]===Symbol.for("react.memo_cache_sentinel")?(N=(0,a.jsxs)(eE.l.Item,{onSelect:O,children:[(0,a.jsx)(eE.l.LeadingVisual,{children:(0,a.jsx)(b.CommentDiscussionIcon,{})}),"Give feedback"]}),A[30]=N):N=A[30],A[31]!==B||A[32]!==M||A[33]!==$?(I="assistive"===$&&!U&&(0,a.jsxs)(eE.l.Item,{onSelect:()=>{M.hideChat(B)},children:[(0,a.jsx)(eE.l.LeadingVisual,{children:(0,a.jsx)(b.EyeClosedIcon,{})}),"Hide Copilot chat"]}),A[31]=B,A[32]=M,A[33]=$,A[34]=I):I=A[34],A[35]!==e?(D=s&&(0,a.jsxs)(eE.l.Item,{onSelect:()=>e.setShowStaffDialog(eL.hs.Experiments),children:[(0,a.jsx)(eE.l.LeadingVisual,{children:(0,a.jsx)(b.BeakerIcon,{})}),"Configure experiments",(0,a.jsx)(eE.l.TrailingVisual,{children:(0,a.jsx)(ek.A,{variant:"attention",children:"Staff"})})]}),A[35]=e,A[36]=D):D=A[36],A[37]!==e?(P=s&&W&&(0,a.jsxs)(eE.l.Item,{onSelect:()=>e.setShowStaffDialog(eL.hs.Prompt),children:[(0,a.jsx)(eE.l.LeadingVisual,{children:(0,a.jsx)(b.BeakerIcon,{})}),"Adjust prompts",(0,a.jsx)(eE.l.TrailingVisual,{children:(0,a.jsx)(ek.A,{variant:"attention",children:"Staff"})})]}),A[37]=e,A[38]=P):P=A[38],A[39]!==x||A[40]!==S||A[41]!==C||A[42]!==I||A[43]!==D||A[44]!==P||A[45]!==p?(k=(0,a.jsx)(eC.UJ,{children:(0,a.jsxs)(eE.l,{children:[p,x,w,S,C,N,I,D,P]})}),A[39]=x,A[40]=S,A[41]=C,A[42]=I,A[43]=D,A[44]=P,A[45]=p,A[46]=k):k=A[46],A[47]!==T||A[48]!==e.anchorRef||A[49]!==k?(R=(0,a.jsxs)(eR.W,{open:T,onOpenChange:u,anchorRef:e.anchorRef,children:[m,k]}),A[47]=T,A[48]=e.anchorRef,A[49]=k,A[50]=R):R=A[50],A[51]===Symbol.for("react.memo_cache_sentinel")?(E=(0,a.jsx)(eT.l,{ref:H,mode:"assistive"}),A[51]=E):E=A[51],A[52]!==R?(L=(0,a.jsxs)(a.Fragment,{children:[R,E]}),A[52]=R,A[53]=L):L=A[53],L};try{e1.displayName||(e1.displayName="Header")}catch{}try{e2.displayName||(e2.displayName="ReturnToCurrentThreadButton")}catch{}try{e3.displayName||(e3.displayName="ThreadOptionButton")}catch{}function e4(e){return!e}var e5=r(79184),e7=r(12004),e6=r(69410);let e8={loadingStateContainer:"ThreadListView-module__loadingStateContainer--cQ2Y1",ActionList:"ThreadListView-module__ActionList--vTS9v",emptyStateContainer:"ThreadListView-module__emptyStateContainer--RI0zV",errorStateContainer:"ThreadListView-module__errorStateContainer--xIKxr",deleteAllButton:"ThreadListView-module__deleteAllButton--YxpmP"};function e9(){let e,t,r,n=(0,o.c)(9),i=(0,l.Pk)(),s=(0,c.b)();n[0]!==s||n[1]!==i.threads?(t=s.sortAndFilterThreads(i.threads,te),n[0]=s,n[1]=i.threads,n[2]=t):t=n[2],e=t;let[d,h]=(0,j.useState)(!1),u=(0,j.useRef)(null),m=eA.W.deleteAllConversations;if("loading"===i.threadsLoading.state&&e.length<2){let e;return n[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsxs)("div",{className:e8.loadingStateContainer,children:[(0,a.jsx)(e7.A,{}),"Loading threads\u2026"]}),n[3]=e):e=n[3],e}return n[4]!==s||n[5]!==d||n[6]!==i.threadsLoading||n[7]!==e?(r=(0,a.jsx)(a.Fragment,{children:"error"===i.threadsLoading.state?(0,a.jsx)(tt,{threadsLoading:i.threadsLoading}):(0,a.jsxs)(a.Fragment,{children:[e.length>0&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(eE.l,{className:e8.ActionList,children:(0,a.jsxs)(eE.l.Group,{children:[(0,a.jsx)(eE.l.GroupHeading,{as:"h3",children:"All conversations"}),(0,a.jsx)(tr,{threads:e,manager:s}),e.length>1&&m&&(0,a.jsx)(tn,{threads:e,manager:s,shouldDeleteAllThreads:d,setShouldDeleteAllThreads:h,returnFocusRef:u})]})})}),0===e.length&&(0,a.jsxs)("div",{className:e8.emptyStateContainer,children:[(0,a.jsx)("p",{className:"mb-3",children:"There are no conversations at the moment."}),(0,a.jsx)(ec.Q,{onClick:()=>s.selectThread(null),block:!0,children:"Start a new conversation"})]})]})}),n[4]=s,n[5]=d,n[6]=i.threadsLoading,n[7]=e,n[8]=r):r=n[8],r}function te(e){return void 0===e.customCopilotID}let tt=e=>{let t,r,n=(0,o.c)(3),{threadsLoading:i}=e;n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(E.A,{icon:b.AlertIcon}),n[0]=t):t=n[0];let s="error"===i.state?i.error:"Something went wrong. Please try again later.";return n[1]!==s?(r=(0,a.jsx)("div",{className:e8.errorStateContainer,children:(0,a.jsxs)(e6.A,{variant:"warning",children:[t,s]})}),n[1]=s,n[2]=r):r=n[2],r},tr=e=>{let t,r,n=(0,o.c)(7),{threads:i,manager:s}=e;if(n[0]!==s||n[1]!==i){let e;n[3]!==s?(e=e=>(0,a.jsxs)(eE.l.Item,{onSelect:()=>s.selectThread(e),className:"mr-0 pr-2",children:[(0,a.jsx)(eE.l.LeadingVisual,{children:(0,a.jsx)(b.CommentIcon,{})}),(0,d.CB)(e),(0,a.jsx)(eE.l.Description,{variant:"inline",className:"flex-shrink-0",children:(0,a.jsx)(w.A,{date:new Date(Date.parse(e.updatedAt)),format:"relative"})}),(0,a.jsx)(eE.l.TrailingAction,{icon:b.TrashIcon,label:`Delete conversation: "${(0,d.CB)(e)}"`,onClick:async()=>s.deleteThreadKeepSelection(e)})]},e.id),n[3]=s,n[4]=e):e=n[4],t=i.map(e),n[0]=s,n[1]=i,n[2]=t}else t=n[2];return n[5]!==t?(r=(0,a.jsx)(a.Fragment,{children:t}),n[5]=t,n[6]=r):r=n[6],r},tn=e=>{let t,r,n,i,s=(0,o.c)(14),{threads:l,manager:c,shouldDeleteAllThreads:d,setShouldDeleteAllThreads:h,returnFocusRef:u}=e;return s[0]!==h?(t=()=>h(!0),s[0]=h,s[1]=t):t=s[1],s[2]!==u||s[3]!==t?(r=(0,a.jsx)(ec.Q,{"data-testid":"delete-all-threads-button",ref:u,onClick:t,className:e8.deleteAllButton,children:"Delete all conversations"}),s[2]=u,s[3]=t,s[4]=r):r=s[4],s[5]!==c||s[6]!==u||s[7]!==h||s[8]!==d||s[9]!==l?(n=!0===d&&(0,a.jsx)("div",{"data-testid":"delete-all-threads-dialog",children:(0,a.jsxs)(eH.l,{title:"Delete all conversations",width:"small",onClose:()=>h(!1),returnFocusRef:u,footerButtons:[{buttonType:"default",content:"Cancel",onClick:()=>h(!1)},{buttonType:"danger",content:"Delete",onClick:async()=>{await c.deleteAllThreadKeepSelection(l),h(!1)},autoFocus:!0}],children:["You are trying to delete ",l.length," conversations. Are you sure? This can\u2019t be undone."]})}),s[5]=c,s[6]=u,s[7]=h,s[8]=d,s[9]=l,s[10]=n):n=s[10],s[11]!==r||s[12]!==n?(i=(0,a.jsxs)(a.Fragment,{children:[r,n]}),s[11]=r,s[12]=n,s[13]=i):i=s[13],i};try{e9.displayName||(e9.displayName="ThreadListView")}catch{}try{tt.displayName||(tt.displayName="ErrorView")}catch{}try{tr.displayName||(tr.displayName="ListView")}catch{}try{tn.displayName||(tn.displayName="DeleteAll")}catch{}let ta={CopilotChatContainer:"CopilotChat-module__CopilotChatContainer--fWXmM",IconButton:"CopilotChat-module__IconButton--jjRoQ",Popover:"CopilotChat-module__Popover--gWIEN",Popover_Content:"CopilotChat-module__Popover_Content--o_2MF",chatContentScrollContainer:"CopilotChat-module__chatContentScrollContainer--eCNUB",chatViewContainer:"CopilotChat-module__chatViewContainer--F1fj4"};var to=r(39619),ti=r(46062);let ts=(0,ei.E7)();function tl(e){let t,r=(0,o.c)(2);return r[0]!==e?(t=(0,a.jsx)(eu.RelayEnvironmentProvider,{environment:ts,children:(0,a.jsx)(tc,{...e})}),r[0]=e,r[1]=t):t=r[1],t}function tc(e){let t,r,n,i,c,d=(0,o.c)(9),h=(0,j.useRef)(null),u=(0,j.useRef)(null),m=ey.Jt.selectedThreadID;d[0]===Symbol.for("react.memo_cache_sentinel")?(t=ey.Jt.getCurrentReferences(m)||[],d[0]=t):t=d[0];let p=t,f=e.renderPopover||!1;return d[1]!==e.reactPartialAnchor||d[2]!==f?(r=(0,a.jsx)(td,{renderPopover:f,ref:h,reactPartialAnchor:e.reactPartialAnchor,inputRef:u}),d[1]=e.reactPartialAnchor,d[2]=f,d[3]=r):r=d[3],d[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)(eC.cB,{}),i=(0,a.jsx)(tp,{inputRef:u}),d[4]=n,d[5]=i):(n=d[4],i=d[5]),d[6]!==e||d[7]!==r?(c=(0,a.jsx)(s.LB,{children:(0,a.jsxs)(l.Mj,{topic:e.currentTopic,workerPath:e.findFileWorkerPath,threadId:m,refs:p,mode:"assistive",ssoOrganizations:e.ssoOrganizations,chatIsOpen:!1,chatIsVisible:e.chatIsVisible,chatVisibleSettingPath:e.chatVisibleSettingPath,realIp:e.realIp,copilotChatPayload:e,children:[r,n,i]})}),d[6]=e,d[7]=r,d[8]=c):c=d[8],c}let td=j.forwardRef((e,t)=>{let r,n,i,h,u,m,p,f,g,x,w,v,_,S,C,O,N,I,D=(0,o.c)(62),P=(0,c.b)(),k=(0,l.Pk)();D[0]!==k?(r=(0,ev.W)(k),D[0]=k,D[1]=r):r=D[1];let R=r,{currentTopic:E,currentView:L}=k,{screenSize:A}=(0,s.lm)(),{licenseType:T}=(0,e5.xR)(),V=(0,ti.GF)(k.availableModels),B=(0,j.useRef)(!0);D[2]!==E||D[3]!==V||D[4]!==P||D[5]!==R||D[6]!==k.chatIsOpen?(n=()=>(0,to.HS)(e=>void P.handleOpenPanelEvent(R,e,k.chatIsOpen,E,V)),i=[E,R,P,k.chatIsOpen,V],D[2]=E,D[3]=V,D[4]=P,D[5]=R,D[6]=k.chatIsOpen,D[7]=n,D[8]=i):(n=D[7],i=D[8]),(0,j.useEffect)(n,i),D[9]!==P?(h=()=>(0,to.f7)(e=>{P.handleAddReferenceEvent(e)}),D[9]=P,D[10]=h):h=D[10],D[11]!==P||D[12]!==R||D[13]!==k.currentReferences?(u=[R,P,k.currentReferences],D[11]=P,D[12]=R,D[13]=k.currentReferences,D[14]=u):u=D[14],(0,j.useEffect)(h,u),D[15]!==P?(m=()=>(0,to.Tv)(e=>{P.handleSymbolChangedEvent(e)}),D[15]=P,D[16]=m):m=D[16],(0,j.useEffect)(m),D[17]!==V||D[18]!==P?(p=()=>(0,to.fD)(e=>{P.handleSearchCopilotEvent(e,V)}),f=[P,V],D[17]=V,D[18]=P,D[19]=p,D[20]=f):(p=D[19],f=D[20]),(0,j.useEffect)(p,f),D[21]!==L||D[22]!==P||D[23]!==k.chatVisibleSettingPath||D[24]!==k.selectedThreadID||D[25]!==k.threads?(g=()=>{let e=new URL(window.location.href,window.location.origin),t=e.searchParams,r=k.selectedThreadID;if("1"===t.get("copilot")&&r){let t=k.threads.get(r)??null;P.openChat(t,L,"immersive",k.chatVisibleSettingPath),e.searchParams.delete("copilot"),(0,en.kd)(e.toString())}},x=[P,k.selectedThreadID,k.threads,L,k.chatVisibleSettingPath],D[21]=L,D[22]=P,D[23]=k.chatVisibleSettingPath,D[24]=k.selectedThreadID,D[25]=k.threads,D[26]=g,D[27]=x):(g=D[26],x=D[27]),(0,j.useEffect)(g,x),D[28]!==P||D[29]!==A||D[30]!==R||D[31]!==k.chatIsVisible||D[32]!==k.chatVisibleSettingPath||D[33]!==k.currentView?(w=()=>{B.current&&(B.current=!1,k.chatIsVisible&&!ey.Jt.getCollapsedState()&&A>s.Gy.large&&P.openChat(R,k.currentView,"page load",k.chatVisibleSettingPath))},v=[P,A,R,k.chatIsVisible,k.chatVisibleSettingPath,k.currentView],D[28]=P,D[29]=A,D[30]=R,D[31]=k.chatIsVisible,D[32]=k.chatVisibleSettingPath,D[33]=k.currentView,D[34]=w,D[35]=v):(w=D[34],v=D[35]),(0,j.useEffect)(w,v),D[36]!==E||D[37]!==L||D[38]!==T||D[39]!==P||D[40]!==e.inputRef||D[41]!==R||D[42]!==k.chatIsOpen||D[43]!==k.chatVisibleSettingPath?(_=async()=>{if(k.chatIsOpen)e.inputRef.current&&e.inputRef.current.focus();else{if(T===eL.mF.Unlicensed){if(k.chatVisibleSettingPath){let e=new FormData;e.set("copilot_chat_visible","true"),await (0,es.DI)(k.chatVisibleSettingPath,{method:"PUT",body:e}),ey.Jt.setCollapsedState(!1)}window.location.replace(`${window.location.origin}/github-copilot/signup?return_to=${window.location.pathname}`);return}P.openChat(R,L,"header",k.chatVisibleSettingPath,(0,d.Z6)(E)?(0,d.qS)(E):void 0)}},D[36]=E,D[37]=L,D[38]=T,D[39]=P,D[40]=e.inputRef,D[41]=R,D[42]=k.chatIsOpen,D[43]=k.chatVisibleSettingPath,D[44]=_):_=D[44];let $=_;if(e.reactPartialAnchor){let t,r,n;return D[45]!==e.reactPartialAnchor?(t=(0,a.jsx)(th,{reactPartialAnchor:e.reactPartialAnchor}),D[45]=e.reactPartialAnchor,D[46]=t):t=D[46],D[47]!==e.renderPopover?(r=e.renderPopover?(0,a.jsx)(tm,{renderPopover:!0}):(0,a.jsx)(a.Fragment,{}),D[47]=e.renderPopover,D[48]=r):r=D[48],D[49]!==t||D[50]!==r?(n=(0,a.jsxs)("div",{className:ta.CopilotChatContainer,children:[t,r]}),D[49]=t,D[50]=r,D[51]=n):n=D[51],n}return D[52]===Symbol.for("react.memo_cache_sentinel")?(S=(0,eh.$)("AppHeader-CopilotChatButton",ta.CopilotChatContainer),D[52]=S):S=D[52],D[53]===Symbol.for("react.memo_cache_sentinel")?(C=(0,eh.$)("AppHeader-button",ta.IconButton),D[53]=C):C=D[53],D[54]!==$||D[55]!==t?(O=(0,a.jsx)(ed.A,{"aria-label":"Chat with Copilot",direction:"s",children:(0,a.jsx)("div",{children:(0,a.jsx)(y.K,{unsafeDisableTooltip:!0,ref:t,id:eb.fv,icon:b.CopilotIcon,"aria-label":"Chat with Copilot","aria-controls":eb.wJ,onClick:$,className:C,"data-testid":"copilot-chat-button","data-hotkey":"Shift+C","aria-expanded":!1})})}),D[54]=$,D[55]=t,D[56]=O):O=D[56],D[57]!==e.renderPopover?(N=(0,a.jsx)(tm,{renderPopover:e.renderPopover}),D[57]=e.renderPopover,D[58]=N):N=D[58],D[59]!==O||D[60]!==N?(I=(0,a.jsxs)("div",{className:S,children:[O,N]}),D[59]=O,D[60]=N,D[61]=I):I=D[61],I});function th(e){let t,r=(0,o.c)(1),{reactPartialAnchor:n}=e;return(0,eo.QJ)(n,tu),r[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(a.Fragment,{}),r[0]=t):t=r[0],t}function tu(){(0,ea.BI)("dotcom_chat.activate",{target:"GLOBAL_COPILOT_MENU_HEADER_TO_IMMERSIVE",mode:"global_nav"})}function tm(e){let t,r,n,i=(0,o.c)(4),{renderPopover:s}=e,[l,c]=(0,j.useState)(s);i[0]===Symbol.for("react.memo_cache_sentinel")?(t=async()=>{c(!1),await (0,es.DI)((({notice:e})=>`/settings/dismiss-notice/${e}`)({notice:"copilot_chat_new_user_popover"}),{method:"POST"})},i[0]=t):t=i[0];let d=t;return i[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsxs)(el.A.Content,{"data-testid":"copilot-chat-cta-popover",className:ta.Popover_Content,children:[(0,a.jsxs)("p",{children:["You now have access to"," ",(0,a.jsx)("a",{href:"https://docs.github.com/enterprise-cloud@latest/copilot/github-copilot-enterprise/overview/about-github-copilot-enterprise",target:"_blank",rel:"noopener noreferrer",children:"Copilot Enterprise"}),". ","Use the Copilot icon to get started."]}),(0,a.jsx)(ec.Q,{"data-testid":"dismiss-copilot-chat-cta-popover",onClick:d,children:"Got it!"})]}),i[1]=r):r=i[1],i[2]!==l?(n=(0,a.jsx)(el.A,{open:l,caret:"top-right",className:ta.Popover,children:r}),i[2]=l,i[3]=n):n=i[3],n}function tp(e){let t,r,n,i,s,d,h,u,m=(0,o.c)(29),{inputRef:p}=e,f=(0,l.Pk)(),g=(0,c.b)(),x=(0,j.useRef)(null),[b,w]=(0,j.useState)(eL.hs.None),[y,v]=(0,j.useState)(!1),_=(0,j.useRef)(f.messages.length),S=(0,j.useRef)(f.messagesLoading.state),{panelWidth:C,panelHeight:O,startResize:N,onResizerKeyDown:I}=(0,ew.Tz)();m[0]!==f.chatIsOpen||m[1]!==f.messages.length||m[2]!==f.messagesLoading.state?(t=()=>{f.messages.length>_.current&&!f.chatIsOpen&&"loaded"===S.current&&v(!0),_.current=f.messages.length,S.current=f.messagesLoading.state},r=[f.chatIsOpen,f.messages.length,f.messagesLoading.state],m[0]=f.chatIsOpen,m[1]=f.messages.length,m[2]=f.messagesLoading.state,m[3]=t,m[4]=r):(t=m[3],r=m[4]),(0,j.useEffect)(t,r),m[5]!==y||m[6]!==f.chatIsOpen?(n=()=>{f.chatIsOpen&&y&&v(!1)},i=[y,f.chatIsOpen],m[5]=y,m[6]=f.chatIsOpen,m[7]=n,m[8]=i):(n=m[7],i=m[8]),(0,j.useEffect)(n,i),m[9]!==g||m[10]!==f.entryPointId?(s=e=>{w(eL.hs.None),g.closeChat();let t=f.entryPointId??eb.fv;if(e&&t){let e=document.getElementById(t),r=window.scrollX,n=window.scrollY;setTimeout(()=>{e?.focus(),window.scrollTo(r,n)},0)}},m[9]=g,m[10]=f.entryPointId,m[11]=s):s=m[11];let D=f.messages.length<=1&&(!!f.streamingMessage||f.isWaitingOnCopilot);return m[12]!==b||m[13]!==D?(d=(0,a.jsx)(e1,{staffDialogRef:x,showStaffDialog:b,setShowStaffDialog:w,isResponding:D}),m[12]=b,m[13]=D,m[14]=d):d=m[14],m[15]!==p||m[16]!==f.chatIsOpen||m[17]!==f.currentView||m[18]!==f.selectedThreadID?(h=f.chatIsOpen&&(0,a.jsx)("div",{className:ta.chatContentScrollContainer,children:(0,a.jsx)("div",{className:ta.chatViewContainer,children:"thread"===f.currentView?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(em.r,{inputRef:p},f.selectedThreadID),(0,a.jsx)(er,{})]}):(0,a.jsx)(e9,{})})}),m[15]=p,m[16]=f.chatIsOpen,m[17]=f.currentView,m[18]=f.selectedThreadID,m[19]=h):h=m[19],m[20]!==p||m[21]!==I||m[22]!==O||m[23]!==C||m[24]!==N||m[25]!==s||m[26]!==d||m[27]!==h?(u=(0,a.jsxs)(eO,{staffDialogRef:x,handleClose:s,panelWidth:C,panelHeight:O,startResize:N,onResizerKeyDown:I,initialFocusRef:p,children:[d,h]}),m[20]=p,m[21]=I,m[22]=O,m[23]=C,m[24]=N,m[25]=s,m[26]=d,m[27]=h,m[28]=u):u=m[28],u}td.displayName="CopilotHeaderButton",tp.displayName="ChatPanelWithHeader";try{tl.displayName||(tl.displayName="CopilotChat")}catch{}try{tc.displayName||(tc.displayName="CopilotChatNoRelay")}catch{}try{th.displayName||(th.displayName="ExternalAnchorListener")}catch{}try{tm.displayName||(tm.displayName="WelcomePopover")}catch{}(0,n.k)("copilot-chat",{Component:tl})},39619:(e,t,r)=>{r.d(t,{HS:()=>i,Oc:()=>o,Tv:()=>c,Xr:()=>SymbolChangedEvent,f7:()=>s,fD:()=>l,qR:()=>a});var n=r(50467);let OpenCopilotChatEvent=class OpenCopilotChatEvent extends Event{constructor(e){super("open-copilot-chat",{bubbles:!1,cancelable:!0}),(0,n._)(this,"payload",void 0),this.payload=e}};Event;let AddCopilotChatReferenceEvent=class AddCopilotChatReferenceEvent extends Event{constructor(e,t=!1,r){super("add-copilot-chat-reference",{bubbles:!1,cancelable:!0}),(0,n._)(this,"reference",void 0),(0,n._)(this,"openPanel",void 0),(0,n._)(this,"id",void 0),this.reference=e,this.openPanel=t,this.id=r}};let SymbolChangedEvent=class SymbolChangedEvent extends Event{constructor(e){super("symbol-changed",{bubbles:!1,cancelable:!0}),(0,n._)(this,"context",void 0),this.context=e}};function a(e){window.dispatchEvent(new OpenCopilotChatEvent(e))}function o(e,t=!1,r){window.dispatchEvent(new AddCopilotChatReferenceEvent(e,t,r))}function i(e){return window.addEventListener("open-copilot-chat",e),()=>{window.removeEventListener("open-copilot-chat",e)}}function s(e){return window.addEventListener("add-copilot-chat-reference",e),()=>{window.removeEventListener("add-copilot-chat-reference",e)}}function l(e){return window.addEventListener("search-copilot-chat",e),()=>{window.removeEventListener("search-copilot-chat",e)}}function c(e){return window.addEventListener("symbol-changed",e),()=>{window.removeEventListener("symbol-changed",e)}}},33303:(e,t,r)=>{function n(){return Promise.resolve()}function a(){return new Promise(window.requestAnimationFrame)}async function o(e,t){let r,n=new Promise(t=>{r=self.setTimeout(t,e)});if(!t)return n;try{var a;await Promise.race([n,(a=t,new Promise((e,t)=>{let r=Error("aborted");r.name="AbortError",a.aborted?t(r):a.addEventListener("abort",()=>t(r))}))])}catch(e){throw self.clearTimeout(r),e}}function i(e){let t=[];return function(r){t.push(r),1===t.length&&queueMicrotask(()=>{let r=t.slice(0);t.length=0,e(r)})}}r.d(t,{G$:()=>a,k2:()=>n,rK:()=>i,uk:()=>o})},53419:(e,t,r)=>{let n;r.d(t,{BI:()=>p,Ti:()=>f,lA:()=>u,sX:()=>m});var a=r(70837),o=r(18679),i=r(82075),s=r(11083);let{getItem:l}=(0,i.A)("localStorage"),c="dimension_",d=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let e=(0,a.O)("octolytics");delete e.baseContext,n=new o.s(e)}catch{}function h(e){let t=(0,a.O)("octolytics").baseContext||{};if(t)for(let[e,r]of(delete t.app_id,delete t.event_url,delete t.host,Object.entries(t)))e.startsWith(c)&&(t[e.replace(c,"")]=r,delete t[e]);let r=document.querySelector("meta[name=visitor-payload]");for(let[e,n]of(r&&Object.assign(t,JSON.parse(atob(r.content))),new URLSearchParams(window.location.search)))d.includes(e.toLowerCase())&&(t[e]=n);return t.staff=(0,s.X)().toString(),Object.assign(t,e)}function u(e){n?.sendPageView(h(e))}function m(){return document.head?.querySelector('meta[name="current-catalog-service"]')?.content}function p(e,t={}){let r=m(),a=r?{service:r}:{};for(let[e,r]of Object.entries(t))null!=r&&(a[e]=`${r}`);n&&(h(a),n.sendEvent(e||"unknown",h(a)))}function f(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,JSON.stringify(t)]))}},37285:(e,t,r)=>{r.d(t,{Av:()=>s,BM:()=>a,Gr:()=>l,HX:()=>h,M_:()=>u,RD:()=>d,rb:()=>o});var n=r(71315);let a="GraphQLTraces",o="GraphQLTracingRefresh",i=decodeURIComponent(new URLSearchParams(n.fV.search).get("disable_clusters")||"").split(",").filter(e=>""!==e);function s(e){if(!n.cg||!l()||!e)return;let t=n.cg;t&&!t[a]&&(t[a]=[]),t&&e.__trace&&(t[a].push(e.__trace),"function"==typeof t[o]&&t[o]())}function l(){let e=n.cg;return"true"===new URLSearchParams(n.fV.search).get("_tracing")||e&&void 0!==e[a]}function c(){return i.length>0}function d(e){if(!l()&&!c())return e;let t=new URL(e,n.fV.origin);return l()&&t.searchParams.set("_tracing","true"),c()&&t.searchParams.set("disable_clusters",i.join(",")),t.pathname+t.search}function h(e){return i.indexOf(e)>-1}function u(e){let t=i.indexOf(e);t>-1?i.splice(t,1):i.push(e);let r=new URLSearchParams(n.fV.search);r.set("disable_clusters",i.join(",")),n.fV.search=r.toString()}},41245:(e,t,r)=>{r.d(t,{A:()=>n});let n=(e,t)=>{let r=new URL(e,window.location.origin),n=new URL(t,window.location.origin);return n.href.includes("#")&&r.host===n.host&&r.pathname===n.pathname&&r.search===n.search}},68911:(e,t,r)=>{r.d(t,{D7:()=>a,MQ:()=>n,gE:()=>o});let n=e=>{if(e){if(e.startsWith("refs/tags/"))return"tag";if(e.startsWith("refs/heads/"))return"branch"}},a=(e,t)=>"branch"===t?`refs/heads/${e}`:"tag"===t?`refs/tags/${e}`:e,o=e=>{if(!e)return;if(!n(e))return e;let[,,...t]=e.split("/");return t.join("/")}},30721:(e,t,r)=>{r.d(t,{VB:()=>SSRNetwork,SD:()=>I,E7:()=>N});var n=r(50467),a=r(40961),o=r(69487),i=r(37285),s=r(96379),l=r(71315),c=r(38102);let d=["SAML","SERVICE_UNAVAILABLE"],h={FORBIDDEN:["SAML error"],AUTHENTICATION:["Couldn\u2019t authenticate you"]},u={NOT_FOUND:[["repository","issue"]]};var m=r(51987);function p(e,t){let r=u[e];if(!r)return!1;for(let e of r){if(t.length!==e.length)continue;let r=!0;for(let n=0;n<t.length;n++)if(t[n]!==e[n]&&"*"!==e[n]){r=!1;break}if(r)return!1}return!0}let f=class ValidationError extends Error{constructor(e,t,r){super(e,t),(0,n._)(this,"catalogService",void 0),this.catalogService=r,this.name="ValidationError"}};async function g(e,t,r){if(e.status>401&&404!==e.status){let n=await e.text(),a={url:e.url,timestamp:new Date().toISOString(),persistedQueryId:t,persistedQueryName:r,failureRequestId:e.headers.get("X-Github-Request-Id")},o=`HTTP error (${e.status}): ${n||"No additional text"}.
    Error Info: ${JSON.stringify(a)}`;if(429===e.status)throw{message:o,cause:e.status};throw Error(o,{cause:e.status})}}async function x(e,t,r,n="GET",a,o,i,s){return(await b(e,t,r,n,{isSubscription:!1,scope:void 0},a,o,i,s)).response}async function b(e,t,r,n="POST",a={},s,u,m,g){let x=JSON.stringify((0,o.stableCopy)({query:e,variables:r,...a.scopeObject?{scopeObject:a.scopeObject}:{}})),{isSubscription:y,scope:v,subscriptionTopic:j,dispatchTime:_}=a,S=function(e,t,r,n,a,o,i="/_graphql"){let s=[];if("GET"===e&&s.push(`body=${t}`),r&&s.push("subscription=1"),a&&s.push(`scope=${encodeURIComponent(a)}`),n&&s.push(`subscriptionTopic=${encodeURIComponent(n)}`),o&&s.push(`dispatchTime=${encodeURIComponent(o)}`),l.cg){let e=new URL(l.cg.location.href,l.cg.location.origin).searchParams.get("_features");e&&s.push(`_features=${e}`)}return s.length>0?`${i}?${s.join("&")}`:i}(n,encodeURIComponent(x),y,j,v,_,s),C=null;try{let{subscriptionId:r,requestId:a,json:o,status:s}=await w(S,n,e,t,x,u);if(C=r,m&&o.errors){let e=m[s];if(e)for(let r of o.errors){let n=e[r.type];n?.({persistedQueryName:t,errorMessage:r.message})}}let l=function(e,t,r,n){var a,o;if(a=t,o=e,"errors"in o&&(o.errors.filter(e=>{let t=d.includes(e.type)||!!h[e.type]?.includes(e.message),r=p(e.type,e.path);return t||r}).map(e=>{console.error(`Failed to fetch data. Please use this request ID when contacting support: ${a} Error: ${e.type}: ${e.message} (path: ${e.path})`)}),o.errors=o.errors.filter(e=>{let t=d.includes(e.type)||!!h[e.type]?.includes(e.message),r=p(e.type,e.path);return!t&&!r})),"errors"in e&&e.errors.length){let t=e.errors.map(e=>`GraphQL error: ${e.type}: ${e.message} (path: ${e.path})`).join(", "),a=new f(`${t} (Persisted query id: ${r})`,{cause:e.errors},e.extensions?.query_owning_catalog_service);if(n)(0,c.N7)(a),n.error(a);else throw a}if(!("data"in e)){let a=Error(`Expected data property in response: ${JSON.stringify(e)}. persistedQueryId: ${r}, requestId: ${t}`);if(n)(0,c.N7)(a),n.error(a);else throw a}return e}(o,a,e,g);return l&&(0,i.Av)(l),{subscriptionId:C,response:l}}catch(e){if(g)return"object"==typeof e&&null!==e&&"cause"in e&&429===e.cause||(0,c.N7)(e),g.error(e),{subscriptionId:C,response:{errors:[{message:"An error occurred while fetching data. Please try again later."}],extensions:{}}};throw e}}async function w(e,t,r,n,a,o){return y((0,i.RD)(e),t,r,n,a,o)}async function y(e,t,r,n,a,o){let i,l,d={...(0,m.kt)()};o?.issues_react_perf_test&&(d["X-LUC-Environment"]="issues");let h=(i="GET"===t?await fetch(e,{method:t,cache:"no-cache",credentials:"include",headers:{Accept:"application/json",...d}}):await (0,s.DI)(e,{method:t,headers:{Accept:"application/json",...d},...a?{body:a}:void 0})).headers.get("X-Subscription-ID"),u=i.headers.get("X-Github-Request-Id")||"",p=i.status;await g(i,r,n);try{l=await i.json()}catch(r){let t={error:r,status:p,url:e,requestId:u};throw(0,c.N7)(Error(`Failed to parse server JSON response ${JSON.stringify(t)}`)),Error(`Failed to parse server response. Please try again later. ${JSON.stringify(t)}`)}return{subscriptionId:h,requestId:u,json:l,status:p}}let v=[{kind:"linked",handle(e,t,r){if(null!=t&&t.getType()===o.ROOT_TYPE&&"node"===e.name&&r.hasOwnProperty("id"))return r.id}},{kind:"pluralLinked",handle(e,t,r){if(null!=t&&t.getType()===o.ROOT_TYPE&&"nodes"===e.name&&r.hasOwnProperty("ids"))return r.ids}}];var j=r(11418),_=r(73056),S=r(69982);function C(e){return(0,S.unstable_scheduleCallback)(S.unstable_LowPriority,e)}let O={cancel:()=>!1,schedule:e=>((0,a.unstable_batchedUpdates)(e),"")};let SSRNetwork=class SSRNetwork{execute(e,t,r){return this.relayNetwork.execute(e,t,r)}getPreloadedSubscriptions(){return this.preloadedSubscriptions}constructor(e,t={},r,a,i,s){(0,n._)(this,"relayNetwork",void 0),(0,n._)(this,"ssrPreloadedData",void 0),(0,n._)(this,"preloadedSubscriptions",void 0),(0,n._)(this,"warningsShown",void 0),(0,n._)(this,"enabled_features",void 0),(0,n._)(this,"maxAge",void 0),(0,n._)(this,"errorCallbacks",void 0),this.ssrPreloadedData=e,this.enabled_features=t,this.preloadedSubscriptions=r,this.warningsShown=new Set,this.maxAge=i,this.errorCallbacks=s,this.relayNetwork=o.Network.create((e,t)=>o.Observable.create(r=>{let n=function({params:e,variables:t,ssrPreloadedQueries:r,baseUrl:n,emitWarning:a,enabledFeatures:o,maxAge:i,errorCallbacks:s,observer:c}){if(!e.id)throw Error("params has no id property!");if(e.id&&r){let n=JSON.stringify(t),a=r.get(e.id)?.get(n),o=Math.floor(Date.now()/1e3),s=a?.timestamp;if(a&&(c.next(a),!(i&&s&&o>s+i)))return void c.complete();e.metadata?.isRelayRouteRequest&&(0,l.g5)()}let d="mutation"===e.operationKind?"POST":"GET";if(l.KJ)return x(e.id,e.name,t,d,n,o,s,c)}({params:e,variables:t,ssrPreloadedQueries:this.ssrPreloadedData,baseUrl:a,emitWarning:e=>{this.warningsShown.has(e)||(this.warningsShown.add(e),console.warn(e))},enabledFeatures:this.enabled_features,maxAge:i,errorCallbacks:this.errorCallbacks,observer:r});n instanceof Promise&&n.then(e=>{if(!Array.isArray(e)&&"extensions"in e&&e.extensions&&e.extensions.subscriptions){let t=e.extensions.subscriptions;for(let e in t)for(let r in this.preloadedSubscriptions.has(e)||this.preloadedSubscriptions.set(e,new Map),t[e])this.preloadedSubscriptions.get(e)?.set(r,t[e][r])}r.next(e),r.complete()})}),(e,t)=>(function(e,t,r=new Map){let n=e.id,a=e.name;return o.Observable.create(o=>{let i=()=>{},s=!1;return async function(){if(!n)throw Error("unexpected operation with no id!");let l=e.metadata?.scope,d=function(e,t,r,n){let a=n.get(e);if(a)e:for(let[e,n]of a){for(let[n,a]of Object.entries(JSON.parse(e)))if("$scope"===n&&r!==a||t[n]!==a)continue e;return n}}(n,t,l,r),h=null;if(d)h=d.subscriptionId,d.response&&o.next(d.response);else try{let e=await b(n,a,t,"GET",{isSubscription:!0,scope:l});h=e.subscriptionId,e.response&&o.next(e.response)}catch(e){if(e instanceof Error&&e.message.includes("Subscription halted"))return;throw e}try{let e=await (0,j.H)();if(s)return;let r=(0,_.$)(e,h,async({scope_object:e,subscription_topic:r,dispatch_time:i})=>{try{let{response:s}=await b(n,a,{...t},"GET",{isSubscription:!0,scopeObject:e,subscriptionTopic:r,dispatchTime:i,scope:l});s&&o.next(s)}catch(e){(0,c.N7)(e,{message:`Error in fetching update for ${n} with variables ${JSON.stringify(t)}`})}});r?.unsubscribe&&(i=r.unsubscribe)}catch(e){o.error(e)}}(),{get closed(){return s},unsubscribe(){s=!0,i()}}})})(e,t,this.preloadedSubscriptions))}};let N=(e,t)=>{let r=new SSRNetwork(new Map,{},new Map,e,void 0,t),n=new o.Environment({scheduler:O,store:new o.Store(new o.RecordSource,{gcReleaseBufferSize:50,queryCacheExpirationTime:3e5,gcScheduler:C}),getDataID:(e,t)=>{if("Viewer"===t)return null==e.id?(0,o.generateClientID)("client:root","viewer"):e.id;if("ProjectV2SingleSelectFieldOption"===t){let t=[];return e.id&&t.push(e.id),e.name&&t.push(e.name),e.color&&t.push(e.color),e.description&&t.push(function(e){let t=0;if(0===e.length)return t;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r)|0;return t}(e.description)),t.join("_")}return e.id},network:r,missingFieldHandlers:v});return n.options={baseUrl:e,getPreloadedSubscriptions:()=>r.getPreloadedSubscriptions()},n};function I({environment:e,query:t,variables:r={}}){let n=(0,o.getRequest)(t),a=(0,o.createOperationDescriptor)(n,r);return e.retain(a),(0,o.fetchQuery)(e,t,r,{fetchPolicy:"store-or-network"})}},29731:(e,t,r)=>{r.d(t,{G:()=>n});let n=e=>({})},45385:(e,t,r)=>{r.d(t,{u:()=>i});var n=r(25407),a=r(96379),o=r(96540);function i(e,t,r,i){let[s,l]=(0,o.useState)({loading:!0}),c=t&&e&&r&&i?(0,n.IO9)({repo:{name:t,ownerLogin:e},commitish:r,action:"file-contributors",path:i}):null;return(0,o.useEffect)(()=>{if(!c)return;let e=!1;return(async()=>{l({loading:!0});let t=await (0,a.lS)(c);if(!e)try{t.ok?l({contributors:await t.json()}):l({error:!0})}catch{l({error:!0})}})(),function(){e=!0}},[c]),s}},46747:(e,t,r)=>{r.d(t,{d:()=>i});var n=r(31223),a=r(23125),o=r(96540);let i=(e,t,{leading:r=!1,maxWait:i,trailing:s=!0,onChangeBehavior:l="flush"}={})=>{let c=(0,n.M)(e),d=(0,o.useMemo)(()=>{let e=void 0===i?{leading:r,trailing:s}:{leading:r,trailing:s,maxWait:i};return(0,a.A)((...e)=>c.current(...e),t,e)},[c,t,r,i,s]);return(0,o.useEffect)(()=>()=>{d?.[l]()},[d,l]),d}},91547:(e,t,r)=>{r.d(t,{E:()=>u,q:()=>h});var n=r(5225),a=r(25407),o=r(82591),i=r(96379),s=r(96540);async function l(e){let t=await (0,i.lS)(e);return t.ok?await t.json():void 0}let c=new Map,d=(0,n.A)(l,{cache:c});function h(){c.clear()}function u(e,t,r,n){let[i,l]=(0,s.useState)(),[c,u]=(0,s.useState)(!1),[m,p]=(0,s.useState)(!0),f=t&&e&&r&&n?(0,a.IO9)({repo:{name:t,ownerLogin:e},commitish:r,action:"latest-commit",path:n}):null;return(0,s.useEffect)(()=>{let e=new AbortController;return document.addEventListener(o.z.START,h,{signal:e.signal}),()=>{e.abort()}},[]),(0,s.useEffect)(()=>{let e=!1;return(async()=>{if(!f)return;u(!1),p(!0),l(void 0);let t=await d(f);if(!e){try{t?l(t):u(!0)}catch{u(!0)}p(!1)}})(),function(){e=!0}},[f,r]),[i,m,c]}},96459:(e,t,r)=>{r.d(t,{Z:()=>c,o:()=>d});var n=r(96540),a=r(13017),o=r(41245),i=r(65432),s=r(58578),l=r(24518);let c=()=>{let{routes:e}=n.useContext(l.k),t=(0,a.Zp)();return n.useCallback((l,c={})=>{let d=(0,a.o1)(l).pathname;if(!(0,a.ue)(e,d)||c.reloadDocument){let e="string"==typeof l?l:(0,a.AO)(l);(async()=>{let{softNavigate:t}=await Promise.all([r.e("vendors-node_modules_github_turbo_dist_turbo_es2017-esm_js"),r.e("packages_soft-navigate_soft-navigate_ts")]).then(r.bind(r,54563));t(e)})()}else{(0,o.A)(location.href,l.toString())||(0,i.SC)("react");let{preventAutofocus:e,...r}=c;(0,n.startTransition)(()=>{t(l,e?{...r,state:{[s.V]:!0,...r.state}}:r)})}},[t,e])},d=()=>{let[e]=(0,a.ok)(),t=c(),{pathname:r}=(0,a.zy)(),o=n.useCallback((n,o={})=>{t({pathname:r,search:(0,a.PI)("function"==typeof n?n(e):n).toString()},o)},[e,t,r]);return[e,o]}},96379:(e,t,r)=>{r.d(t,{DI:()=>o,QJ:()=>s,Sr:()=>l,lS:()=>i});var n=r(51987),a=r(88057);async function o(e,t={}){var r=e;if(new URL(r,window.location.origin).origin!==window.location.origin)throw Error("Can not make cross-origin requests from verifiedFetch");let i=function(e){let t=new URL(e,window.location.href),r=new URL(window.location.href,window.location.origin),n=r.searchParams.get("_features");n&&!t.searchParams.has("_features")&&t.searchParams.set("_features",n);let a=r.searchParams.get("_tracing");return a&&!t.searchParams.has("_tracing")&&t.searchParams.set("_tracing",a),e.startsWith(window.location.origin)?t.href:`${t.pathname}${t.search}`}(e),s={...t.headers,"GitHub-Verified-Fetch":"true",...(0,n.kt)()},l=await fetch(i,{...t,headers:s}),c=l?.headers?.get("X-Github-Request-Id");return c&&(0,a.Ex)(c),l}function i(e,t){let r={...t?.headers??{},Accept:"application/json","Content-Type":"application/json"},n=t?.body?JSON.stringify(t.body):void 0;return o(e,{...t,body:n,headers:r})}function s(e,t={}){let r={...t.headers,"GitHub-Is-React":"true"};return o(e,{...t,headers:r})}function l(e,t){let r={...t?.headers??{},"GitHub-Is-React":"true"};return i(e,{...t,headers:r})}},17005:(e,t,r)=>{r.d(t,{l:()=>h});var n=r(74848),a=r(21728),o=r(77274),i=r(96379),s=r(96540),l=r(35247),c=r(54508);let d=[{name:"Hate it",value:1,icon:o.YS,color:"veryDissatisfied"},{name:"Not great",value:2,icon:o.Mm,color:"dissatisfied"},{name:"It\u2019s ok",value:3,icon:o.Cf,color:"satisfied"},{name:"Love it",value:4,icon:o.mN,color:"verySatisfied"}],h=(0,s.forwardRef)(function(e,t){let r,h,u,m,p=(0,a.c)(7),{mode:f,returnFocusRef:g}=e,x=(0,s.useRef)(null),b=(0,s.useRef)(null),w=(0,s.useRef)(void 0);p[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>({openDialog:e=>{w.current=e,l.W.copilotChatInterviewSurvey?x.current?.openDialog():b.current?.openDialog(e)}}),p[0]=r):r=p[0],(0,s.useImperativeHandle)(t,r),p[1]!==f?(h=async(e,t)=>{let r=[];if(null==e&&r.push("Please select a rating."),t.length>2e3&&r.push("Please keep your feedback within 2000 characters or less."),r.length>0)return r;let n={rating:e,content:t,hostname:window.location.hostname,path:window.location.pathname,mode:f};try{(await (0,i.lS)("/github-copilot/feedback",{method:"POST",body:n})).ok||r.push("An error occurred while submitting your feedback.")}catch{r.push("An error occurred while submitting your feedback.")}return r},p[1]=f,p[2]=h):h=p[2];let y=h;return p[3]===Symbol.for("react.memo_cache_sentinel")?(u=(0,n.jsx)(c.E,{ref:x,onClose:e=>{"no-thanks"===e&&b.current?.openDialog(w.current)}}),p[3]=u):u=p[3],p[4]!==y||p[5]!==g?(m=(0,n.jsxs)(n.Fragment,{children:[u,(0,n.jsx)(o.NE,{ref:b,options:d,onSubmit:y,returnFocusRef:g})]}),p[4]=y,p[5]=g,p[6]=m):m=p[6],m});h.displayName="ConversationFeedbackDialog"},87255:(e,t,r)=>{r.d(t,{Y:()=>O});var n,a=r(74848),o=r(21728),i=r(70170),s=r(53419),l=r(29731),c=r(83494),d=r(88431),h=r(96379),u=r(16255),m=r(65029),p=r(75298),f=r(55847),g=r(96665),x=r(96540),b=r(40961),w=r(2635),y=r(33592);let v={footerContainer:"PersonalInstructionsDialog-module__footerContainer--T9wxr"};var j=r(38621),_=r(52446);let S={Role:{tooltip:"Role, domain, style, and focus areas",body:`Your role:
- {role_type} expert in {domain}
- Focus on {key_skill_area}
`},Communication:{tooltip:"Language, tone and format",body:`Communication:
- Write in {tone/language}
- Reference {source_type} documentation
- Structure responses as {format}
`},"Code preferences":{tooltip:"Code style, patterns, and conventions",body:`Code guidelines:
- Use {language} conventions
- Follow {pattern/code_guidelines}
- Optimize for {goal}
`}},C=(0,x.forwardRef)(function(e,t){let r,n,i,s,l,c,d,h,u=(0,o.c)(19),{onSelect:m}=e,[p,f]=(0,x.useState)(!1);u[0]!==p?(r=()=>f(!p),u[0]=p,u[1]=r):r=u[1];let g=r;u[2]===Symbol.for("react.memo_cache_sentinel")?(n={marginBottom:"1px"},u[2]=n):n=u[2],u[3]!==m||u[4]!==p?(i=p&&Object.entries(S)?.map(e=>{let[t,r]=e;return(0,a.jsxs)(_.l.Item,{"aria-label":`${r.tooltip}`,className:"mx-0 border fgColor-muted d-inline-block width-auto",onSelect:()=>m(t,r.body),children:[(0,a.jsx)(j.PlusIcon,{}),t]},t)}),u[3]=m,u[4]=p,u[5]=i):i=u[5],u[6]!==i?(s=(0,a.jsx)(_.l,{className:"d-inline-flex flex-wrap gap-2 rounded-2",children:i}),u[6]=i,u[7]=s):s=u[7];let b=p?"Hide templates":"Show templates";return u[8]===Symbol.for("react.memo_cache_sentinel")?(l={border:"1px solid transparent"},u[8]=l):l=u[8],u[9]!==p?(c=p?(0,a.jsx)(j.XIcon,{}):(0,a.jsx)(j.LightBulbIcon,{}),u[9]=p,u[10]=c):c=u[10],u[11]!==b||u[12]!==c||u[13]!==g?(d=(0,a.jsx)(_.l,{className:"d-flex flex-column flex-justify-end",children:(0,a.jsx)(_.l.Item,{"aria-label":b,"data-testid":"toggle-templates",className:"fgColor-muted d-inline-block width-auto flex-justify-end mx-0",style:l,onSelect:g,children:c})}),u[11]=b,u[12]=c,u[13]=g,u[14]=d):d=u[14],u[15]!==t||u[16]!==s||u[17]!==d?(h=(0,a.jsxs)("div",{ref:t,className:"d-inline-flex flex-justify-between position-absolute bgColor-default right-0 left-0 bottom-0 ml-2 mr-3",style:n,children:[s,d]}),u[15]=t,u[16]=s,u[17]=d,u[18]=h):h=u[18],h});try{C.displayName||(C.displayName="PersonalInstructionsTemplates")}catch{}try{(n=PersonalInstructionsTemplatesWithRef).displayName||(n.displayName="PersonalInstructionsTemplatesWithRef")}catch{}let O=({onDismiss:e,returnFocusRef:t})=>{let r=(0,w.Pk)(),n=(0,y.b)(),[j,_]=(0,x.useState)(r.personalInstructions??""),[S,O]=(0,x.useState)(void 0),[I,D]=(0,x.useState)(!1),P=(0,x.useRef)(null),k=(0,x.useRef)(null),[R,E]=(0,x.useState)(""),L=((e,t)=>{let r,n,a=(0,o.c)(4),[s,l]=(0,x.useState)(48);return a[0]!==e||500!==a[1]?(r=()=>{let t=(0,i.s)(()=>{e?.current&&l(e.current.clientHeight??48)},500),r=new ResizeObserver(t);return e?.current&&r.observe(e.current),()=>{t.cancel(),r?.disconnect?.()}},n=[e,500],a[0]=e,a[1]=500,a[2]=r,a[3]=n):(r=a[2],n=a[3]),(0,x.useEffect)(r,n),s})(k);(0,d.N)(()=>{P?.current&&(P.current.scrollTop=P.current.scrollHeight)},[j]);let A=(0,x.useCallback)(async()=>{if(!I){D(!0),R&&(0,s.BI)("copilot_personal_instruction_template_usage",{content:R});try{let t=await (0,h.lS)("/copilot/personal_instructions",{method:"POST",body:{prompt:j}});if(t.ok)(0,s.BI)("dotcom_chat.activate",{target:"PERSONAL_INSTRUCTIONS_SAVE",mode:"immersive"}),n.dispatch({type:"SET_PERSONAL_INSTRUCTIONS",personalInstructions:j}),(0,b.flushSync)(()=>e());else{let e=await t.json();O(String(e.errorMessage))}}catch{O("An error occurred while saving your personal instructions.")}finally{D(!1)}}},[I,j,n,e,R]),T=(e,t)=>{t&&(_(j?`${j}
${t}`:t),E(e),P?.current?.focus())},V=()=>{A()},B=(0,x.useCallback)(()=>{(0,s.BI)("dotcom_chat.dismiss",{target:"PERSONAL_INSTRUCTIONS_DISMISS",mode:"immersive"}),(0,b.flushSync)(()=>e())},[e]);return(0,a.jsx)(u.Z,{children:(0,a.jsx)(g.l,{onClose:B,title:"Personal instructions",subtitle:"Set up Copilot to align with your workflows and preferences. These instructions will only impact your personal conversation.",width:"large",returnFocusRef:t,renderBody:()=>(0,a.jsx)(g.l.Body,{children:(0,a.jsx)("form",{onSubmit:A,children:(0,a.jsxs)(m.A,{children:[(0,a.jsx)(m.A.Label,{visuallyHidden:!0,children:"Instructions"}),(0,a.jsx)("div",{className:"width-full position-relative",children:(0,a.jsxs)(c.tL,{commands:{"github:submit-form":V},children:[(0,a.jsx)(p.Ay,{ref:P,className:"width-full",style:{paddingBottom:`${L}px`},"aria-label":"Prompt",rows:7,name:"prompt",placeholder:"Your instructions",value:j,validationStatus:S||j.length>4e3?"error":void 0,...(0,l.G)("prompt-input"),onChange:e=>{_(e.target.value),O(void 0)}}),(0,a.jsx)(C,{ref:k,onSelect:T})]})}),(0,a.jsx)(N,{text:j,promptCharLimit:4e3}),S&&(0,a.jsx)(m.A.Validation,{variant:"error",children:(0,a.jsx)("span",{...(0,l.G)("error-message"),children:S})})]})})}),renderFooter:()=>(0,a.jsxs)("div",{className:v.footerContainer,children:[(0,a.jsx)(f.Q,{variant:"default",onClick:B,children:"Cancel"}),(0,a.jsx)(f.Q,{loading:I,loadingAnnouncement:"Saving personal instructions",variant:"primary",onClick:A,children:"Save"})]})})})};function N(e){let t,r,n,i,s=(0,o.c)(10),{text:c,promptCharLimit:d}=e;s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.G)("current-character-count"),s[0]=t):t=s[0],s[1]!==c.length?(r=(0,a.jsx)("span",{className:"text-tabular-nums",...t,children:c.length}),s[1]=c.length,s[2]=r):r=s[2],s[3]!==d||s[4]!==r?(n=(0,a.jsxs)(a.Fragment,{children:[r," ","/ ",d," characters"]}),s[3]=d,s[4]=r,s[5]=n):n=s[5];let h=n;return s[6]!==h||s[7]!==d||s[8]!==c.length?(i=(0,a.jsx)(a.Fragment,{children:c.length>d?(0,a.jsx)(m.A.Validation,{variant:"error",children:h}):(0,a.jsx)(m.A.Caption,{children:h})}),s[6]=h,s[7]=d,s[8]=c.length,s[9]=i):i=s[9],i}try{O.displayName||(O.displayName="PersonalInstructionsDialog")}catch{}try{N.displayName||(N.displayName="CharacterCount")}catch{}},54589:(e,t,r)=>{r.d(t,{X:()=>s});var n=r(74848),a=r(21654),o=r(10242),i=r(84174);let s=({children:e="Preview",feedbackUrl:t,className:r})=>(0,n.jsx)(i.V,{className:r,label:(0,n.jsx)(a.A,{variant:"success",children:e}),link:t?(0,n.jsx)(o.A,{feedbackUrl:t}):void 0});try{s.displayName||(s.displayName="BetaLabel")}catch{}}}]);
//# sourceMappingURL=packages_copilot-chat_entry_ts-packages_use-debounce_use-debounce_ts-7743a88ee877.js.map